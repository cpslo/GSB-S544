<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Lab 4: Coffee Lovers Unite</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="Lab4Final_files/libs/clipboard/clipboard.min.js"></script>
<script src="Lab4Final_files/libs/quarto-html/quarto.js"></script>
<script src="Lab4Final_files/libs/quarto-html/popper.min.js"></script>
<script src="Lab4Final_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Lab4Final_files/libs/quarto-html/anchor.min.js"></script>
<link href="Lab4Final_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Lab4Final_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Lab4Final_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Lab4Final_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Lab4Final_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Lab 4: Coffee Lovers Unite</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="coffee-lovers-unite" class="level3">
<h3 class="anchored" data-anchor-id="coffee-lovers-unite">Coffee Lovers Unite!</h3>
<p>If caffeine is one of the most popular drugs, then coffee is likely one of the most popular delivery systems for it. Aside from caffeine, people enjoy the wonderful variety of coffee-related drinks. Let’s do a rough investigation of the “market share” by two of the top coffee chains in the United States!</p>
<p>World Population Review provides some great data on store locations and chain prevalence. Check out <a href="https://worldpopulationreview.com/state-rankings/starbucks-stores-by-state">this page</a> for the Starbucks Coffee locations in the United States. Notice that this page only really gives the name of the state and the number of locations in that state.</p>
</section>
<section id="scrape-the-location-counts" class="level3">
<h3 class="anchored" data-anchor-id="scrape-the-location-counts">Scrape the Location Counts</h3>
<ol type="1">
<li>Use the <code>beautifulsoup</code> library to scrape the data (from the link above) on state names and corresponding number of store locations, for the following chains:</li>
</ol>
<ul>
<li>Starbucks</li>
<li>Dunkin’ Donuts</li>
</ul>
</section>
<section id="starbucks" class="level3">
<h3 class="anchored" data-anchor-id="starbucks">Starbucks</h3>
<div id="cell-3" class="cell" data-outputid="cec1a9be-6001-43cf-84f1-1282e3cf4f94" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install requests beautifulsoup4 pandas</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Requirement already satisfied: requests in /usr/local/lib/python3.10/dist-packages (2.32.3)
Requirement already satisfied: beautifulsoup4 in /usr/local/lib/python3.10/dist-packages (4.12.3)
Requirement already satisfied: pandas in /usr/local/lib/python3.10/dist-packages (2.1.4)
Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /usr/local/lib/python3.10/dist-packages (from requests) (3.3.2)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /usr/local/lib/python3.10/dist-packages (from requests) (3.10)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in /usr/local/lib/python3.10/dist-packages (from requests) (2.2.3)
Requirement already satisfied: certifi&gt;=2017.4.17 in /usr/local/lib/python3.10/dist-packages (from requests) (2024.8.30)
Requirement already satisfied: soupsieve&gt;1.2 in /usr/local/lib/python3.10/dist-packages (from beautifulsoup4) (2.6)
Requirement already satisfied: numpy&lt;2,&gt;=1.22.4 in /usr/local/lib/python3.10/dist-packages (from pandas) (1.26.4)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /usr/local/lib/python3.10/dist-packages (from pandas) (2.8.2)
Requirement already satisfied: pytz&gt;=2020.1 in /usr/local/lib/python3.10/dist-packages (from pandas) (2024.2)
Requirement already satisfied: tzdata&gt;=2022.1 in /usr/local/lib/python3.10/dist-packages (from pandas) (2024.1)
Requirement already satisfied: six&gt;=1.5 in /usr/local/lib/python3.10/dist-packages (from python-dateutil&gt;=2.8.2-&gt;pandas) (1.16.0)</code></pre>
</div>
</div>
<div id="cell-4" class="cell" data-outputid="304407d1-276f-495c-a0b6-a28de9c33cea" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> html5lib</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://worldpopulationreview.com/state-rankings/starbucks-stores-by-state"</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(url)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(response.content, <span class="st">"html.parser"</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>table <span class="op">=</span> soup.find(<span class="st">"table"</span>, attrs<span class="op">=</span>{<span class="st">"class"</span>: [<span class="st">'wpr-table'</span>]})</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> table <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Table not found"</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    rows <span class="op">=</span> []</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> row <span class="kw">in</span> table.find_all(<span class="st">"tr"</span>)[<span class="dv">1</span>:]:</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>        cells <span class="op">=</span> row.find_all(<span class="st">"td"</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(cells) <span class="op">&gt;=</span> <span class="dv">3</span>:</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>            State <span class="op">=</span> row.find(<span class="st">'th'</span>).get_text(strip<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>            Starbucks_Stores_2023 <span class="op">=</span> cells[<span class="dv">0</span>].get_text(strip<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>            Starbucks_Stores_2021 <span class="op">=</span> cells[<span class="dv">1</span>].get_text(strip<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>            Starbucks_Stores_2024 <span class="op">=</span> cells[<span class="dv">2</span>].get_text(strip<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>            rows.append({</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>                <span class="st">"State"</span>: State,</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>                <span class="st">"2021"</span>: Starbucks_Stores_2021,</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>                <span class="st">"2023"</span>: Starbucks_Stores_2023,</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>                <span class="st">"2024"</span>: Starbucks_Stores_2024</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>            })</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> pd.DataFrame(rows)</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">

  <div id="df-a322bad1-9bec-4494-a840-207315f0eb24" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">2021</th>
<th data-quarto-table-cell-role="th">2023</th>
<th data-quarto-table-cell-role="th">2024</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>California</td>
<td>2,959</td>
<td>3,080</td>
<td>3,117</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Texas</td>
<td>1,215</td>
<td>1,346</td>
<td>1,409</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Florida</td>
<td>786</td>
<td>844</td>
<td>892</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Washington</td>
<td>739</td>
<td>741</td>
<td>736</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>New York</td>
<td>643</td>
<td>692</td>
<td>715</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Illinois</td>
<td>621</td>
<td>677</td>
<td>685</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Arizona</td>
<td>535</td>
<td>548</td>
<td>579</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Colorado</td>
<td>497</td>
<td>495</td>
<td>506</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Ohio</td>
<td>446</td>
<td>491</td>
<td>499</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Virginia</td>
<td>456</td>
<td>489</td>
<td>510</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Oregon</td>
<td>345</td>
<td>359</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Pennsylvania</td>
<td>406</td>
<td>357</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>North Carolina</td>
<td>422</td>
<td>338</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Georgia</td>
<td>379</td>
<td>326</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Michigan</td>
<td>310</td>
<td>283</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Massachusetts</td>
<td>279</td>
<td>273</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>New Jersey</td>
<td>293</td>
<td>261</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>Maryland</td>
<td>274</td>
<td>257</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>Nevada</td>
<td>269</td>
<td>253</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>Indiana</td>
<td>265</td>
<td>221</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>Missouri</td>
<td>208</td>
<td>188</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>Minnesota</td>
<td>212</td>
<td>184</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>Tennessee</td>
<td>237</td>
<td>180</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23</td>
<td>Kentucky</td>
<td>131</td>
<td>166</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>Wisconsin</td>
<td>176</td>
<td>145</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25</td>
<td>South Carolina</td>
<td>207</td>
<td>131</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26</td>
<td>Connecticut</td>
<td>125</td>
<td>123</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>Utah</td>
<td>126</td>
<td>101</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>Hawaii</td>
<td>105</td>
<td>99</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">29</td>
<td>Kansas</td>
<td>120</td>
<td>94</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>District of Columbia</td>
<td></td>
<td>91</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31</td>
<td>Iowa</td>
<td>142</td>
<td>89</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32</td>
<td>Alabama</td>
<td>99</td>
<td>85</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">33</td>
<td>Louisiana</td>
<td>10</td>
<td>84</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">34</td>
<td>Oklahoma</td>
<td>94</td>
<td>79</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">35</td>
<td>New Mexico</td>
<td>92</td>
<td>76</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">36</td>
<td>Idaho</td>
<td>78</td>
<td>67</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">37</td>
<td>Nebraska</td>
<td>87</td>
<td>58</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">38</td>
<td>Arkansas</td>
<td>66</td>
<td>55</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">39</td>
<td>Alaska</td>
<td>49</td>
<td>49</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">40</td>
<td>Mississippi</td>
<td>36</td>
<td>32</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">41</td>
<td>Montana</td>
<td>45</td>
<td>32</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">42</td>
<td>Maine</td>
<td>31</td>
<td>30</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">43</td>
<td>New Hampshire</td>
<td>35</td>
<td>29</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">44</td>
<td>Rhode Island</td>
<td>26</td>
<td>27</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">45</td>
<td>Delaware</td>
<td>39</td>
<td>25</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">46</td>
<td>South Dakota</td>
<td>52</td>
<td>25</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">47</td>
<td>West Virginia</td>
<td>64</td>
<td>25</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">48</td>
<td>Wyoming</td>
<td>26</td>
<td>23</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">49</td>
<td>North Dakota</td>
<td>20</td>
<td>13</td>
<td></td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">50</td>
<td>Vermont</td>
<td>35</td>
<td>8</td>
<td></td>
</tr>
</tbody>
</table>

</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-a322bad1-9bec-4494-a840-207315f0eb24')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-a322bad1-9bec-4494-a840-207315f0eb24 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-a322bad1-9bec-4494-a840-207315f0eb24');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-2dcea4aa-9492-4921-9f0c-17f8ae2de856">
  <button class="colab-df-quickchart" onclick="quickchart('df-2dcea4aa-9492-4921-9f0c-17f8ae2de856')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-2dcea4aa-9492-4921-9f0c-17f8ae2de856 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_8bccdb08-283b-487a-b8c1-c63c2b7304e9">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_8bccdb08-283b-487a-b8c1-c63c2b7304e9 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<div id="cell-5" class="cell" data-outputid="436a7d4d-1db6-4ea6-ab8c-e6ab10b895b4" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>starbucks_clean <span class="op">=</span> pd.melt(df, id_vars<span class="op">=</span>[<span class="st">'State'</span>], var_name<span class="op">=</span><span class="st">'Year'</span>, value_name<span class="op">=</span><span class="st">'Starbucks Stores'</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>starbucks_clean[<span class="st">'Year'</span>] <span class="op">=</span> starbucks_clean[<span class="st">'Year'</span>].<span class="bu">str</span>.extract(<span class="vs">r'(\d</span><span class="sc">{4}</span><span class="vs">)'</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>starbucks_clean[<span class="st">'Starbucks Stores'</span>] <span class="op">=</span> pd.to_numeric(starbucks_clean[<span class="st">'Starbucks Stores'</span>].astype(<span class="bu">str</span>).<span class="bu">str</span>.replace(<span class="st">','</span>, <span class="st">''</span>), errors<span class="op">=</span><span class="st">'coerce'</span>).fillna(<span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>starbucks_clean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">

  <div id="df-ea7672a8-3a1a-4611-af28-9cab371fd744" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Starbucks Stores</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>California</td>
<td>2021</td>
<td>2959</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Texas</td>
<td>2021</td>
<td>1215</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Florida</td>
<td>2021</td>
<td>786</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Washington</td>
<td>2021</td>
<td>739</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>New York</td>
<td>2021</td>
<td>643</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">148</td>
<td>South Dakota</td>
<td>2024</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">149</td>
<td>West Virginia</td>
<td>2024</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">150</td>
<td>Wyoming</td>
<td>2024</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">151</td>
<td>North Dakota</td>
<td>2024</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">152</td>
<td>Vermont</td>
<td>2024</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>153 rows × 3 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-ea7672a8-3a1a-4611-af28-9cab371fd744')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-ea7672a8-3a1a-4611-af28-9cab371fd744 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-ea7672a8-3a1a-4611-af28-9cab371fd744');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-e9fceb8d-a6fd-4903-af63-3edf672b8bb6">
  <button class="colab-df-quickchart" onclick="quickchart('df-e9fceb8d-a6fd-4903-af63-3edf672b8bb6')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-e9fceb8d-a6fd-4903-af63-3edf672b8bb6 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_62e5ee6a-211a-4be3-9ee2-5e9a91790d90">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('starbucks_clean')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_62e5ee6a-211a-4be3-9ee2-5e9a91790d90 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('starbucks_clean');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<div id="cell-6" class="cell" data-outputid="f74ce564-2f4b-4254-fddb-df57b6bc348e" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>total_starbucks_stores <span class="op">=</span> starbucks_clean[<span class="st">'Starbucks Stores'</span>].<span class="bu">sum</span>()</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Total Starbucks stores: </span><span class="sc">{</span>total_starbucks_stores<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Total Starbucks stores: 39304</code></pre>
</div>
</div>
<div id="cell-7" class="cell" data-outputid="4fadc9a1-6e4f-4b42-d0ed-c4558c74e6d2" data-execution_count="32">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>starbucks_clean.iloc[<span class="dv">100</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">100</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">State</td>
<td>North Dakota</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Year</td>
<td>2023</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Starbucks Stores</td>
<td>13</td>
</tr>
</tbody>
</table>

</div><br><label><b>dtype:</b> object</label>
</div>
</div>
<div id="cell-8" class="cell" data-outputid="29242925-8134-4410-c57b-c2b474964896" data-execution_count="33">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>starbucks_clean.iloc[[<span class="dv">5</span>,<span class="dv">100</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">

  <div id="df-e6e6e1db-832a-4fad-a1dd-8869362f224d" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Starbucks Stores</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>Illinois</td>
<td>2021</td>
<td>621</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">100</td>
<td>North Dakota</td>
<td>2023</td>
<td>13</td>
</tr>
</tbody>
</table>

</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-e6e6e1db-832a-4fad-a1dd-8869362f224d')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-e6e6e1db-832a-4fad-a1dd-8869362f224d button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-e6e6e1db-832a-4fad-a1dd-8869362f224d');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-7725beb4-179c-4534-8244-76196f504006">
  <button class="colab-df-quickchart" onclick="quickchart('df-7725beb4-179c-4534-8244-76196f504006')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-7725beb4-179c-4534-8244-76196f504006 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div>
</div>
<div id="cell-9" class="cell" data-outputid="18d79453-0459-4b2a-dc4a-393a62734c01" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>starbucks_clean.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">0</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">State</td>
<td>object</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Year</td>
<td>object</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Starbucks Stores</td>
<td>int64</td>
</tr>
</tbody>
</table>

</div><br><label><b>dtype:</b> object</label>
</div>
</div>
</section>
<section id="dunkin-donuts" class="level3">
<h3 class="anchored" data-anchor-id="dunkin-donuts">Dunkin’ Donuts</h3>
<div id="cell-11" class="cell" data-outputid="9f74263b-774d-4395-862d-d57a71ef5f11" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> html5lib</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Send a GET request to the webpage</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://worldpopulationreview.com/state-rankings/dunkin-donuts-by-state"</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(url)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(response.content, <span class="st">"html.parser"</span>)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>table <span class="op">=</span> soup.find(<span class="st">"table"</span>, attrs<span class="op">=</span>{<span class="st">"class"</span>: [<span class="st">'wpr-table'</span>]})</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> table <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Table not found"</span>)</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    rows <span class="op">=</span> []</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> row <span class="kw">in</span> table.find_all(<span class="st">"tr"</span>)[<span class="dv">1</span>:]:</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>        cells <span class="op">=</span> row.find_all(<span class="st">"td"</span>)</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(cells) <span class="op">&gt;=</span> <span class="dv">2</span>:</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>            State <span class="op">=</span> row.find(<span class="st">'th'</span>).get_text(strip<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>            Dunkin_Stores_2023 <span class="op">=</span> cells[<span class="dv">1</span>].get_text(strip<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>            Dunkin_Stores_2024 <span class="op">=</span> cells[<span class="dv">0</span>].get_text(strip<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>            rows.append({</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>                <span class="st">"State"</span>: State,</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>                <span class="st">"2023"</span>: Dunkin_Stores_2023,</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>                <span class="st">"2024"</span>: Dunkin_Stores_2024,</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>            })</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>    df1 <span class="op">=</span> pd.DataFrame(rows)</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>df1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">

  <div id="df-21e00259-7e38-4341-bf8e-f4e09602b6ad" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">2023</th>
<th data-quarto-table-cell-role="th">2024</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>New York</td>
<td>1,414</td>
<td>1,431</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Massachusetts</td>
<td>1,068</td>
<td>1,042</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Florida</td>
<td>883</td>
<td>909</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>New Jersey</td>
<td>866</td>
<td>872</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Illinois</td>
<td>692</td>
<td>711</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Pennsylvania</td>
<td>629</td>
<td>650</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Connecticut</td>
<td>480</td>
<td>476</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Maryland</td>
<td>303</td>
<td>311</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Georgia</td>
<td>265</td>
<td>287</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Ohio</td>
<td>245</td>
<td>261</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Virginia</td>
<td>230</td>
<td>244</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Texas</td>
<td>196</td>
<td>226</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>North Carolina</td>
<td>206</td>
<td>224</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>New Hampshire</td>
<td>218</td>
<td>216</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Maine</td>
<td>159</td>
<td>164</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Rhode Island</td>
<td>160</td>
<td>159</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>California</td>
<td>134</td>
<td>143</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>Tennessee</td>
<td>123</td>
<td>137</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>Indiana</td>
<td>104</td>
<td>117</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>South Carolina</td>
<td>103</td>
<td>116</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>Michigan</td>
<td>105</td>
<td>112</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>Arizona</td>
<td>102</td>
<td>110</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>Wisconsin</td>
<td>83</td>
<td>100</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23</td>
<td>Alabama</td>
<td>59</td>
<td>69</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>Delaware</td>
<td>66</td>
<td>67</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25</td>
<td>Missouri</td>
<td>50</td>
<td>54</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26</td>
<td>Kentucky</td>
<td>41</td>
<td>50</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>Vermont</td>
<td>49</td>
<td>50</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>Colorado</td>
<td>43</td>
<td>48</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">29</td>
<td>Nevada</td>
<td>38</td>
<td>42</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>Minnesota</td>
<td>34</td>
<td>38</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31</td>
<td>Iowa</td>
<td>34</td>
<td>36</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32</td>
<td>West Virginia</td>
<td>27</td>
<td>31</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">33</td>
<td>Kansas</td>
<td>28</td>
<td>26</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">34</td>
<td>Nebraska</td>
<td>23</td>
<td>24</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">35</td>
<td>Oklahoma</td>
<td>18</td>
<td>23</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">36</td>
<td>District of Columbia</td>
<td></td>
<td>19</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">37</td>
<td>New Mexico</td>
<td>19</td>
<td>19</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">38</td>
<td>Louisiana</td>
<td>16</td>
<td>15</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">39</td>
<td>Arkansas</td>
<td>9</td>
<td>14</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">40</td>
<td>Mississippi</td>
<td>12</td>
<td>14</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">41</td>
<td>Hawaii</td>
<td>6</td>
<td>6</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">42</td>
<td>Utah</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">43</td>
<td>Wyoming</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">44</td>
<td>Alaska</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">45</td>
<td>Idaho</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">46</td>
<td>Montana</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">47</td>
<td>North Dakota</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">48</td>
<td>Oregon</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">49</td>
<td>South Dakota</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">50</td>
<td>Washington</td>
<td>19</td>
<td>0</td>
</tr>
</tbody>
</table>

</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-21e00259-7e38-4341-bf8e-f4e09602b6ad')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-21e00259-7e38-4341-bf8e-f4e09602b6ad button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-21e00259-7e38-4341-bf8e-f4e09602b6ad');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-bdb21a8a-bdcd-4823-8394-0a1003c62ef9">
  <button class="colab-df-quickchart" onclick="quickchart('df-bdb21a8a-bdcd-4823-8394-0a1003c62ef9')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-bdb21a8a-bdcd-4823-8394-0a1003c62ef9 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_678aff1b-1a95-4239-a4b0-edf368884253">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df1')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_678aff1b-1a95-4239-a4b0-edf368884253 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df1');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<div id="cell-12" class="cell" data-outputid="9a7058bc-c487-42a7-a192-c9df73cbf560" data-execution_count="9">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>dunkin_clean <span class="op">=</span> pd.melt(df1, id_vars<span class="op">=</span>[<span class="st">'State'</span>], var_name<span class="op">=</span><span class="st">'Year'</span>, value_name<span class="op">=</span><span class="st">'Dunkin Donuts Stores'</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>dunkin_clean[<span class="st">'Year'</span>] <span class="op">=</span> dunkin_clean[<span class="st">'Year'</span>].<span class="bu">str</span>.extract(<span class="vs">r'(\d</span><span class="sc">{4}</span><span class="vs">)'</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>dunkin_clean[<span class="st">'Dunkin Donuts Stores'</span>] <span class="op">=</span> pd.to_numeric(dunkin_clean[<span class="st">'Dunkin Donuts Stores'</span>].<span class="bu">str</span>.replace(<span class="st">','</span>, <span class="st">''</span>), errors<span class="op">=</span><span class="st">'coerce'</span>).fillna(<span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the tidy DataFrame</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>dunkin_clean</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">

  <div id="df-5a44ad3a-7033-4b99-b77e-a639df8b7916" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Dunkin Donuts Stores</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>New York</td>
<td>2023</td>
<td>1414</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Massachusetts</td>
<td>2023</td>
<td>1068</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Florida</td>
<td>2023</td>
<td>883</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>New Jersey</td>
<td>2023</td>
<td>866</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Illinois</td>
<td>2023</td>
<td>692</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">97</td>
<td>Montana</td>
<td>2024</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">98</td>
<td>North Dakota</td>
<td>2024</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">99</td>
<td>Oregon</td>
<td>2024</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">100</td>
<td>South Dakota</td>
<td>2024</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">101</td>
<td>Washington</td>
<td>2024</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>102 rows × 3 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-5a44ad3a-7033-4b99-b77e-a639df8b7916')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-5a44ad3a-7033-4b99-b77e-a639df8b7916 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-5a44ad3a-7033-4b99-b77e-a639df8b7916');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-3d58f76e-4416-4a9a-84bd-be742941729f">
  <button class="colab-df-quickchart" onclick="quickchart('df-3d58f76e-4416-4a9a-84bd-be742941729f')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-3d58f76e-4416-4a9a-84bd-be742941729f button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_70ee5782-6dcc-4b79-af2d-6be62de463a7">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('dunkin_clean')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_70ee5782-6dcc-4b79-af2d-6be62de463a7 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('dunkin_clean');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<div id="cell-13" class="cell" data-outputid="ce03a536-0208-4c2a-fe38-b5648a16c52e" data-execution_count="10">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>total_dunkin_stores <span class="op">=</span> dunkin_clean[<span class="st">'Dunkin Donuts Stores'</span>].<span class="bu">sum</span>()</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Total Dunkin Donuts Stores: </span><span class="sc">{</span>total_dunkin_stores<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Total Dunkin Donuts Stores: 19027</code></pre>
</div>
</div>
<div id="cell-14" class="cell" data-outputid="8e3a4b78-300e-4a84-f7bc-3cc645c2fd91" data-execution_count="11">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>dunkin_clean.iloc[<span class="dv">100</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">100</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">State</td>
<td>South Dakota</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Year</td>
<td>2024</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Dunkin Donuts Stores</td>
<td>0</td>
</tr>
</tbody>
</table>

</div><br><label><b>dtype:</b> object</label>
</div>
</div>
<div id="cell-15" class="cell" data-outputid="b4ed981e-5b65-4685-ed04-8cebfcb8996f" data-execution_count="12">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>dunkin_clean.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">0</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">State</td>
<td>object</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Year</td>
<td>object</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Dunkin Donuts Stores</td>
<td>int64</td>
</tr>
</tbody>
</table>

</div><br><label><b>dtype:</b> object</label>
</div>
</div>
<ol start="2" type="1">
<li>Parse, merge and tidy your data. Think carefully about what the tidy version of this dataset is with multiple years represented on the website.</li>
</ol>
<div id="cell-17" class="cell" data-outputid="5965b319-b633-410b-b5b2-21d50f8ebfee" data-execution_count="13">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>starbucks <span class="op">=</span> pd.melt(df, id_vars<span class="op">=</span><span class="st">'State'</span>, value_vars<span class="op">=</span>[<span class="st">'2021'</span>, <span class="st">'2023'</span>, <span class="st">'2024'</span>], var_name <span class="op">=</span> <span class="st">'Year'</span>, value_name <span class="op">=</span> <span class="st">'Store Count'</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>starbucks[<span class="st">'Brand'</span>] <span class="op">=</span> <span class="st">'Starbucks'</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>dunkin <span class="op">=</span> pd.melt(df1, id_vars<span class="op">=</span><span class="st">'State'</span>, value_vars<span class="op">=</span>[<span class="st">'2023'</span>, <span class="st">'2024'</span>], var_name <span class="op">=</span> <span class="st">'Year'</span>, value_name <span class="op">=</span> <span class="st">'Store Count'</span>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>dunkin[<span class="st">'Brand'</span>] <span class="op">=</span> <span class="st">'Dunkin Donut'</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>merged_df <span class="op">=</span> pd.concat([starbucks, dunkin], axis<span class="op">=</span><span class="dv">0</span>, ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>merged_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">

  <div id="df-bb8ae6df-eb09-4295-95a7-890433d355c5" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Store Count</th>
<th data-quarto-table-cell-role="th">Brand</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>California</td>
<td>2021</td>
<td>2,959</td>
<td>Starbucks</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Texas</td>
<td>2021</td>
<td>1,215</td>
<td>Starbucks</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Florida</td>
<td>2021</td>
<td>786</td>
<td>Starbucks</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Washington</td>
<td>2021</td>
<td>739</td>
<td>Starbucks</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>New York</td>
<td>2021</td>
<td>643</td>
<td>Starbucks</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">250</td>
<td>Montana</td>
<td>2024</td>
<td>0</td>
<td>Dunkin Donut</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">251</td>
<td>North Dakota</td>
<td>2024</td>
<td>0</td>
<td>Dunkin Donut</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">252</td>
<td>Oregon</td>
<td>2024</td>
<td>0</td>
<td>Dunkin Donut</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">253</td>
<td>South Dakota</td>
<td>2024</td>
<td>0</td>
<td>Dunkin Donut</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">254</td>
<td>Washington</td>
<td>2024</td>
<td>0</td>
<td>Dunkin Donut</td>
</tr>
</tbody>
</table>

<p>255 rows × 4 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-bb8ae6df-eb09-4295-95a7-890433d355c5')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-bb8ae6df-eb09-4295-95a7-890433d355c5 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-bb8ae6df-eb09-4295-95a7-890433d355c5');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-a5f160ef-b228-4ae0-8869-10ce1a95949c">
  <button class="colab-df-quickchart" onclick="quickchart('df-a5f160ef-b228-4ae0-8869-10ce1a95949c')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-a5f160ef-b228-4ae0-8869-10ce1a95949c button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_17240d6d-dbf3-4b6a-8b0f-9f56334dfdca">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('merged_df')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_17240d6d-dbf3-4b6a-8b0f-9f56334dfdca button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('merged_df');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<div id="cell-18" class="cell" data-outputid="d15fd4b5-0293-4631-ce30-ae6d11ae6768" data-execution_count="14">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># test tidy data</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>merged_df.iloc[<span class="dv">100</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">100</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">State</td>
<td>North Dakota</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Year</td>
<td>2023</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Store Count</td>
<td>13</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Brand</td>
<td>Starbucks</td>
</tr>
</tbody>
</table>

</div><br><label><b>dtype:</b> object</label>
</div>
</div>
<div id="cell-19" class="cell" data-outputid="74b5aead-daf6-4159-e0bc-7440fe09de23" data-execution_count="15">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>merged_df.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">0</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">State</td>
<td>object</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Year</td>
<td>object</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Store Count</td>
<td>object</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Brand</td>
<td>object</td>
</tr>
</tbody>
</table>

</div><br><label><b>dtype:</b> object</label>
</div>
</div>
</section>
<section id="supplemental-data" class="level3">
<h3 class="anchored" data-anchor-id="supplemental-data">Supplemental Data</h3>
<ol start="4" type="1">
<li>Scrape the state names and populations from this <a href="https://simple.wikipedia.org/wiki/List_of_U.S._states_by_population">wikipedia</a> page. Merge these data with your coffee dataset.</li>
</ol>
<div id="cell-21" class="cell" data-outputid="943e6ed4-7ab6-445f-ee74-f9657cb9a95e" data-execution_count="16">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> html5lib</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://simple.wikipedia.org/wiki/List_of_U.S._states_by_population"</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(url)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(response.content, <span class="st">"html.parser"</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>table <span class="op">=</span> soup.find(<span class="st">"table"</span>, attrs<span class="op">=</span>{<span class="st">"class"</span>: [<span class="st">'wikitable sortable'</span>]})</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> table <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Table not found"</span>)</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>    state_data <span class="op">=</span> []</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> row <span class="kw">in</span> table.find_all(<span class="st">"tr"</span>)[<span class="dv">1</span>:]:</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>        cells <span class="op">=</span> row.find_all(<span class="st">"td"</span>)</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(cells) <span class="op">&gt;=</span> <span class="dv">4</span>:</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>            state <span class="op">=</span> cells[<span class="dv">2</span>].get_text(strip<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>            population <span class="op">=</span> cells[<span class="dv">3</span>].get_text(strip<span class="op">=</span><span class="va">True</span>).replace(<span class="st">','</span>, <span class="st">''</span>)</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> population.isdigit():</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>                state_data.append({</span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"State"</span>: state,</span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Population"</span>: <span class="bu">int</span>(population)</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>                })</span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(<span class="ss">f"Skipping non-numeric population for state: </span><span class="sc">{</span>state<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>    statepop_df <span class="op">=</span> pd.DataFrame(state_data)</span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>statepop_df <span class="op">=</span> statepop_df.rename(columns<span class="op">=</span>{<span class="st">"Population"</span>: <span class="st">"Population 2020"</span>})</span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a>statepop_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">

  <div id="df-55c93b7e-d6bb-438b-ad8b-43e88d78f71f" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Population 2020</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>California</td>
<td>39538223</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Texas</td>
<td>30145505</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Florida</td>
<td>21538187</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>New York</td>
<td>20201249</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Pennsylvania</td>
<td>13002700</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Illinois</td>
<td>12812508</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Ohio</td>
<td>11799448</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Georgia</td>
<td>10711908</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>North Carolina</td>
<td>10439388</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Michigan</td>
<td>10077331</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>New Jersey</td>
<td>9288994</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Virginia</td>
<td>8631393</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>Washington</td>
<td>7705281</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Arizona</td>
<td>7151502</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Massachusetts</td>
<td>7029917</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Tennessee</td>
<td>6910840</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>Indiana</td>
<td>6785528</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>Maryland</td>
<td>6177224</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>Missouri</td>
<td>6154913</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>Wisconsin</td>
<td>5893718</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>Colorado</td>
<td>5773714</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>Minnesota</td>
<td>5706494</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>South Carolina</td>
<td>5118425</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23</td>
<td>Alabama</td>
<td>5024279</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>Louisiana</td>
<td>4657757</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25</td>
<td>Kentucky</td>
<td>4505836</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26</td>
<td>Oregon</td>
<td>4237256</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>Oklahoma</td>
<td>3959353</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28</td>
<td>Connecticut</td>
<td>3605944</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">29</td>
<td>Puerto Rico</td>
<td>3285874</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>Utah</td>
<td>3271616</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31</td>
<td>Iowa</td>
<td>3190369</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32</td>
<td>Nevada</td>
<td>3104614</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">33</td>
<td>Arkansas</td>
<td>3011524</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">34</td>
<td>Mississippi</td>
<td>2961279</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">35</td>
<td>Kansas</td>
<td>2937880</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">36</td>
<td>New Mexico</td>
<td>2117522</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">37</td>
<td>Nebraska</td>
<td>1961504</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">38</td>
<td>Idaho</td>
<td>1839106</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">39</td>
<td>West Virginia</td>
<td>1793716</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">40</td>
<td>Hawaii</td>
<td>1455271</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">41</td>
<td>New Hampshire</td>
<td>1377529</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">42</td>
<td>Maine</td>
<td>1362359</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">43</td>
<td>Rhode Island</td>
<td>1097379</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">44</td>
<td>Montana</td>
<td>1084225</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">45</td>
<td>Delaware</td>
<td>989948</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">46</td>
<td>South Dakota</td>
<td>886667</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">47</td>
<td>North Dakota</td>
<td>779094</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">48</td>
<td>Alaska</td>
<td>733391</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">49</td>
<td>District of Columbia</td>
<td>689545</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">50</td>
<td>Vermont</td>
<td>643077</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">51</td>
<td>Wyoming</td>
<td>576851</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">52</td>
<td>Guam</td>
<td>153836</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">53</td>
<td>U.S. Virgin Islands</td>
<td>87146</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">54</td>
<td>American Samoa</td>
<td>49710</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">55</td>
<td>Northern Mariana Islands</td>
<td>47329</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">56</td>
<td>Contiguous United States</td>
<td>329260619</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">57</td>
<td>The fifty states</td>
<td>330759736</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">58</td>
<td>Fifty states + D.C.</td>
<td>331449281</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">59</td>
<td>Total U.S. (including D.C. and territories)</td>
<td>335073176</td>
</tr>
</tbody>
</table>

</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-55c93b7e-d6bb-438b-ad8b-43e88d78f71f')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-55c93b7e-d6bb-438b-ad8b-43e88d78f71f button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-55c93b7e-d6bb-438b-ad8b-43e88d78f71f');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-39ef2bc3-7cd0-4ecb-8970-2d8914613609">
  <button class="colab-df-quickchart" onclick="quickchart('df-39ef2bc3-7cd0-4ecb-8970-2d8914613609')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-39ef2bc3-7cd0-4ecb-8970-2d8914613609 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_a2ab027c-4dd7-43d7-99f2-36b414da585f">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('statepop_df')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_a2ab027c-4dd7-43d7-99f2-36b414da585f button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('statepop_df');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<div id="cell-22" class="cell" data-outputid="89f96d82-9fca-4ec2-eec8-b33885f95e25" data-execution_count="17">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>coffee_df <span class="op">=</span> pd.merge(starbucks_clean, dunkin_clean, on<span class="op">=</span>[<span class="st">'State'</span>, <span class="st">'Year'</span>], how<span class="op">=</span><span class="st">'outer'</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>coffee_population_df <span class="op">=</span> pd.merge(coffee_df, statepop_df, on<span class="op">=</span><span class="st">'State'</span>, how<span class="op">=</span><span class="st">'left'</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>coffee_population_df[<span class="st">'Dunkin Donuts Stores'</span>] <span class="op">=</span> coffee_population_df[<span class="st">'Dunkin Donuts Stores'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="bu">int</span>(x) <span class="cf">if</span> <span class="kw">not</span> pd.isna(x) <span class="cf">else</span> x)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>coffee_population_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">

  <div id="df-6f292634-90ad-476c-83cb-ab916f26a5a9" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Starbucks Stores</th>
<th data-quarto-table-cell-role="th">Dunkin Donuts Stores</th>
<th data-quarto-table-cell-role="th">Population 2020</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>California</td>
<td>2021</td>
<td>2959</td>
<td>NaN</td>
<td>39538223</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Texas</td>
<td>2021</td>
<td>1215</td>
<td>NaN</td>
<td>30145505</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Florida</td>
<td>2021</td>
<td>786</td>
<td>NaN</td>
<td>21538187</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Washington</td>
<td>2021</td>
<td>739</td>
<td>NaN</td>
<td>7705281</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>New York</td>
<td>2021</td>
<td>643</td>
<td>NaN</td>
<td>20201249</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">148</td>
<td>South Dakota</td>
<td>2024</td>
<td>0</td>
<td>0.0</td>
<td>886667</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">149</td>
<td>West Virginia</td>
<td>2024</td>
<td>0</td>
<td>31.0</td>
<td>1793716</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">150</td>
<td>Wyoming</td>
<td>2024</td>
<td>0</td>
<td>1.0</td>
<td>576851</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">151</td>
<td>North Dakota</td>
<td>2024</td>
<td>0</td>
<td>0.0</td>
<td>779094</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">152</td>
<td>Vermont</td>
<td>2024</td>
<td>0</td>
<td>50.0</td>
<td>643077</td>
</tr>
</tbody>
</table>

<p>153 rows × 5 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-6f292634-90ad-476c-83cb-ab916f26a5a9')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-6f292634-90ad-476c-83cb-ab916f26a5a9 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-6f292634-90ad-476c-83cb-ab916f26a5a9');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-be5c7d60-cb88-4d7f-9885-9b43f528350b">
  <button class="colab-df-quickchart" onclick="quickchart('df-be5c7d60-cb88-4d7f-9885-9b43f528350b')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-be5c7d60-cb88-4d7f-9885-9b43f528350b button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_e8c6ef52-47d0-438d-bc84-70a72e35a558">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('coffee_population_df')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_e8c6ef52-47d0-438d-bc84-70a72e35a558 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('coffee_population_df');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<ol start="5" type="1">
<li>Find the revenue, stock price, or your financial metric of choice for each of the companies listed above (if you can find a website to scrape these from that’s great!…but it’s okay if you manually enter these). Merge these values into your big dataset. Note: these values may be repeated for each state.</li>
</ol>
<div id="cell-24" class="cell" data-outputid="0b94f970-2d82-4bb6-bb3c-0da33d468f73" data-execution_count="18">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Starbucks Revenue from 2021 and 2023</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co"># https://stockanalysis.com/stocks/sbux/revenue/</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Starbucks Revenue from 2024</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># https://stories.starbucks.com/press/2024/starbucks-reports-preliminary-q4-and-full-fiscal-year-2024-results/</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Starbucks Revenue Data (Manually entered)</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>starbucks_revenue <span class="op">=</span> {</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'2021'</span>: <span class="fl">29.06</span>,  <span class="co"># In billions of USD</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'2023'</span>: <span class="fl">35.98</span>,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'2024'</span>: <span class="fl">36.2</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Dunkin Donuts Revenue from 2023</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="co"># https://www.zippia.com/dunkin-donuts-careers-554008/revenue/</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="co"># # Dunkin Donuts Estimated Revenue from 2023</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="co"># https://companiesmarketcap.com/dunkin-brands/revenue/</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Dunkin' Revenue Data (Manually entered)</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>dunkin_revenue <span class="op">=</span> {</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">'2023'</span>: <span class="fl">1.4</span>,  <span class="co"># In billions of USD</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">'2024'</span>: <span class="fl">1.25</span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>starbucks_revenue_df <span class="op">=</span> pd.DataFrame(<span class="bu">list</span>(starbucks_revenue.items()), columns<span class="op">=</span>[<span class="st">'Year'</span>, <span class="st">'Yearly Starbucks Revenue'</span>])</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>dunkin_revenue_df <span class="op">=</span> pd.DataFrame(<span class="bu">list</span>(dunkin_revenue.items()), columns<span class="op">=</span>[<span class="st">'Year'</span>, <span class="st">'Yearly Dunkin Revenue'</span>])</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>starbucks_revenue_df[<span class="st">'Year'</span>] <span class="op">=</span> starbucks_revenue_df[<span class="st">'Year'</span>].astype(<span class="bu">str</span>)</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>dunkin_revenue_df[<span class="st">'Year'</span>] <span class="op">=</span> dunkin_revenue_df[<span class="st">'Year'</span>].astype(<span class="bu">str</span>)</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>coffee_population_df <span class="op">=</span> pd.merge(coffee_population_df, starbucks_revenue_df, on<span class="op">=</span><span class="st">'Year'</span>, how<span class="op">=</span><span class="st">'left'</span>)</span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>coffee_population_df <span class="op">=</span> pd.merge(coffee_population_df, dunkin_revenue_df, on<span class="op">=</span><span class="st">'Year'</span>, how<span class="op">=</span><span class="st">'left'</span>)</span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>coffee_population_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">

  <div id="df-b0f37c68-5d31-4fa2-8d54-410f1d3b9196" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Starbucks Stores</th>
<th data-quarto-table-cell-role="th">Dunkin Donuts Stores</th>
<th data-quarto-table-cell-role="th">Population 2020</th>
<th data-quarto-table-cell-role="th">Yearly Starbucks Revenue</th>
<th data-quarto-table-cell-role="th">Yearly Dunkin Revenue</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>California</td>
<td>2021</td>
<td>2959</td>
<td>NaN</td>
<td>39538223</td>
<td>29.06</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Texas</td>
<td>2021</td>
<td>1215</td>
<td>NaN</td>
<td>30145505</td>
<td>29.06</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Florida</td>
<td>2021</td>
<td>786</td>
<td>NaN</td>
<td>21538187</td>
<td>29.06</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Washington</td>
<td>2021</td>
<td>739</td>
<td>NaN</td>
<td>7705281</td>
<td>29.06</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>New York</td>
<td>2021</td>
<td>643</td>
<td>NaN</td>
<td>20201249</td>
<td>29.06</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">148</td>
<td>South Dakota</td>
<td>2024</td>
<td>0</td>
<td>0.0</td>
<td>886667</td>
<td>36.20</td>
<td>1.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">149</td>
<td>West Virginia</td>
<td>2024</td>
<td>0</td>
<td>31.0</td>
<td>1793716</td>
<td>36.20</td>
<td>1.25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">150</td>
<td>Wyoming</td>
<td>2024</td>
<td>0</td>
<td>1.0</td>
<td>576851</td>
<td>36.20</td>
<td>1.25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">151</td>
<td>North Dakota</td>
<td>2024</td>
<td>0</td>
<td>0.0</td>
<td>779094</td>
<td>36.20</td>
<td>1.25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">152</td>
<td>Vermont</td>
<td>2024</td>
<td>0</td>
<td>50.0</td>
<td>643077</td>
<td>36.20</td>
<td>1.25</td>
</tr>
</tbody>
</table>

<p>153 rows × 7 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-b0f37c68-5d31-4fa2-8d54-410f1d3b9196')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-b0f37c68-5d31-4fa2-8d54-410f1d3b9196 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-b0f37c68-5d31-4fa2-8d54-410f1d3b9196');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-6ae0396e-74f1-44ef-9a54-038dc8f491d3">
  <button class="colab-df-quickchart" onclick="quickchart('df-6ae0396e-74f1-44ef-9a54-038dc8f491d3')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-6ae0396e-74f1-44ef-9a54-038dc8f491d3 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_230f3867-e74f-4d67-9d17-9f40419361d8">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('coffee_population_df')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_230f3867-e74f-4d67-9d17-9f40419361d8 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('coffee_population_df');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<div id="cell-25" class="cell" data-outputid="3e780d2f-69fe-4b72-e926-d046d5edeb34" data-execution_count="19">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>starbucks_revenue <span class="op">=</span> {</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'2021'</span>: <span class="fl">29.06</span>,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'2023'</span>: <span class="fl">35.98</span>,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'2024'</span>: <span class="fl">36.2</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>dunkin_revenue <span class="op">=</span> {</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'2023'</span>: <span class="fl">1.4</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'2024'</span>: <span class="fl">1.25</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Total number of stores for each company</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>total_starbucks_stores <span class="op">=</span> <span class="dv">39304</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>total_dunkin_stores <span class="op">=</span> <span class="dv">19027</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate average revenue per store for each year (in million USD)</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>starbucks_revenue_per_store <span class="op">=</span> {</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    year: (revenue <span class="op">*</span> <span class="fl">1e9</span>) <span class="op">/</span> total_starbucks_stores <span class="cf">for</span> year, revenue <span class="kw">in</span> starbucks_revenue.items()</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>dunkin_revenue_per_store <span class="op">=</span> {</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    year: (revenue <span class="op">*</span> <span class="fl">1e9</span>) <span class="op">/</span> total_dunkin_stores <span class="cf">for</span> year, revenue <span class="kw">in</span> dunkin_revenue.items()</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>coffee_population_df[<span class="st">'Year'</span>] <span class="op">=</span> coffee_population_df[<span class="st">'Year'</span>].astype(<span class="bu">str</span>)</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>coffee_population_df[<span class="st">'Estimated Starbucks Revenue'</span>] <span class="op">=</span> coffee_population_df.<span class="bu">apply</span>(</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> row: <span class="bu">round</span>(row[<span class="st">'Starbucks Stores'</span>] <span class="op">*</span> starbucks_revenue_per_store.get(row[<span class="st">'Year'</span>], <span class="dv">0</span>), <span class="dv">2</span>), axis<span class="op">=</span><span class="dv">1</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>coffee_population_df[<span class="st">'Estimated Dunkin Revenue'</span>] <span class="op">=</span> coffee_population_df.<span class="bu">apply</span>(</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> row: <span class="bu">round</span>(row[<span class="st">'Dunkin Donuts Stores'</span>] <span class="op">*</span> dunkin_revenue_per_store.get(row[<span class="st">'Year'</span>], <span class="dv">0</span>), <span class="dv">2</span>), axis<span class="op">=</span><span class="dv">1</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>coffee_population_df</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">

  <div id="df-71c7ba3f-d1ad-4310-8c90-6be20f3f0767" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Starbucks Stores</th>
<th data-quarto-table-cell-role="th">Dunkin Donuts Stores</th>
<th data-quarto-table-cell-role="th">Population 2020</th>
<th data-quarto-table-cell-role="th">Yearly Starbucks Revenue</th>
<th data-quarto-table-cell-role="th">Yearly Dunkin Revenue</th>
<th data-quarto-table-cell-role="th">Estimated Starbucks Revenue</th>
<th data-quarto-table-cell-role="th">Estimated Dunkin Revenue</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>California</td>
<td>2021</td>
<td>2959</td>
<td>NaN</td>
<td>39538223</td>
<td>29.06</td>
<td>NaN</td>
<td>2.187781e+09</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Texas</td>
<td>2021</td>
<td>1215</td>
<td>NaN</td>
<td>30145505</td>
<td>29.06</td>
<td>NaN</td>
<td>8.983284e+08</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Florida</td>
<td>2021</td>
<td>786</td>
<td>NaN</td>
<td>21538187</td>
<td>29.06</td>
<td>NaN</td>
<td>5.811409e+08</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Washington</td>
<td>2021</td>
<td>739</td>
<td>NaN</td>
<td>7705281</td>
<td>29.06</td>
<td>NaN</td>
<td>5.463907e+08</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>New York</td>
<td>2021</td>
<td>643</td>
<td>NaN</td>
<td>20201249</td>
<td>29.06</td>
<td>NaN</td>
<td>4.754117e+08</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">148</td>
<td>South Dakota</td>
<td>2024</td>
<td>0</td>
<td>0.0</td>
<td>886667</td>
<td>36.20</td>
<td>1.25</td>
<td>0.000000e+00</td>
<td>0.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">149</td>
<td>West Virginia</td>
<td>2024</td>
<td>0</td>
<td>31.0</td>
<td>1793716</td>
<td>36.20</td>
<td>1.25</td>
<td>0.000000e+00</td>
<td>2036579.60</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">150</td>
<td>Wyoming</td>
<td>2024</td>
<td>0</td>
<td>1.0</td>
<td>576851</td>
<td>36.20</td>
<td>1.25</td>
<td>0.000000e+00</td>
<td>65696.12</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">151</td>
<td>North Dakota</td>
<td>2024</td>
<td>0</td>
<td>0.0</td>
<td>779094</td>
<td>36.20</td>
<td>1.25</td>
<td>0.000000e+00</td>
<td>0.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">152</td>
<td>Vermont</td>
<td>2024</td>
<td>0</td>
<td>50.0</td>
<td>643077</td>
<td>36.20</td>
<td>1.25</td>
<td>0.000000e+00</td>
<td>3284805.80</td>
</tr>
</tbody>
</table>

<p>153 rows × 9 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-71c7ba3f-d1ad-4310-8c90-6be20f3f0767')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-71c7ba3f-d1ad-4310-8c90-6be20f3f0767 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-71c7ba3f-d1ad-4310-8c90-6be20f3f0767');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-be78d725-3244-49c7-bc10-cc9fb77384a9">
  <button class="colab-df-quickchart" onclick="quickchart('df-be78d725-3244-49c7-bc10-cc9fb77384a9')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-be78d725-3244-49c7-bc10-cc9fb77384a9 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_b5ebe28c-3584-4a92-9668-52a824f7642a">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('coffee_population_df')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_b5ebe28c-3584-4a92-9668-52a824f7642a button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('coffee_population_df');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<ol start="6" type="1">
<li>Create a region variable in your dataset according to the scheme on this <a href="https://en.wikipedia.org/wiki/List_of_regions_of_the_United_States">wikipedia page</a>: Northeast, Midwest, South, West. You do not need to scrape this information.</li>
</ol>
<div id="cell-27" class="cell" data-outputid="246d0d0e-2e0a-42db-b888-45153db42778" data-execution_count="20">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>region_mapping <span class="op">=</span> {</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Northeast'</span>: {</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Connecticut'</span>: <span class="st">'Northeast'</span>, <span class="st">'Maine'</span>: <span class="st">'Northeast'</span>, <span class="st">'Massachusetts'</span>: <span class="st">'Northeast'</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">'New Hampshire'</span>: <span class="st">'Northeast'</span>, <span class="st">'Rhode Island'</span>: <span class="st">'Northeast'</span>, <span class="st">'Vermont'</span>: <span class="st">'Northeast'</span>,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">'New Jersey'</span>: <span class="st">'Northeast'</span>, <span class="st">'New York'</span>: <span class="st">'Northeast'</span>, <span class="st">'Pennsylvania'</span>: <span class="st">'Northeast'</span>,</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Midwest'</span>: {</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Illinois'</span>: <span class="st">'Midwest'</span>, <span class="st">'Indiana'</span>: <span class="st">'Midwest'</span>, <span class="st">'Michigan'</span>: <span class="st">'Midwest'</span>, <span class="st">'Ohio'</span>: <span class="st">'Midwest'</span>,</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Wisconsin'</span>: <span class="st">'Midwest'</span>, <span class="st">'Iowa'</span>: <span class="st">'Midwest'</span>, <span class="st">'Kansas'</span>: <span class="st">'Midwest'</span>, <span class="st">'Minnesota'</span>: <span class="st">'Midwest'</span>,</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Missouri'</span>: <span class="st">'Midwest'</span>, <span class="st">'Nebraska'</span>: <span class="st">'Midwest'</span>, <span class="st">'North Dakota'</span>: <span class="st">'Midwest'</span>, <span class="st">'South Dakota'</span>: <span class="st">'Midwest'</span>,</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'South'</span>: {</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Delaware'</span>: <span class="st">'South'</span>, <span class="st">'Florida'</span>: <span class="st">'South'</span>, <span class="st">'Georgia'</span>: <span class="st">'South'</span>, <span class="st">'Maryland'</span>: <span class="st">'South'</span>,</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">'North Carolina'</span>: <span class="st">'South'</span>, <span class="st">'South Carolina'</span>: <span class="st">'South'</span>, <span class="st">'Virginia'</span>: <span class="st">'South'</span>, <span class="st">'Washington, D.C'</span>: <span class="st">'South'</span>,</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">'West Virginia'</span>: <span class="st">'South'</span>, <span class="st">'Alabama'</span>: <span class="st">'South'</span>, <span class="st">'Kentucky'</span>: <span class="st">'South'</span>, <span class="st">'Mississippi'</span>: <span class="st">'South'</span>,</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Tennessee'</span>: <span class="st">'South'</span>, <span class="st">'Arkansas'</span>: <span class="st">'South'</span>, <span class="st">'Louisiana'</span>: <span class="st">'South'</span>, <span class="st">'Oklahoma'</span>: <span class="st">'South'</span>,</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Texas'</span>: <span class="st">'South'</span>,</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">'West'</span>: {</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Arizona'</span>: <span class="st">'West'</span>, <span class="st">'Colorado'</span>: <span class="st">'West'</span>, <span class="st">'Idaho'</span>: <span class="st">'West'</span>, <span class="st">'Montana'</span>: <span class="st">'West'</span>,</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Nevada'</span>: <span class="st">'West'</span>, <span class="st">'New Mexico'</span>: <span class="st">'West'</span>, <span class="st">'Utah'</span>: <span class="st">'West'</span>, <span class="st">'Wyoming'</span>: <span class="st">'West'</span>,</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Alaska'</span>: <span class="st">'West'</span>, <span class="st">'California'</span>: <span class="st">'West'</span>, <span class="st">'Hawaii'</span>: <span class="st">'West'</span>, <span class="st">'Oregon'</span>: <span class="st">'West'</span>, <span class="st">'Washington'</span>: <span class="st">'West'</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_region(state):</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Maps a state to its corresponding region."""</span></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> region, states <span class="kw">in</span> region_mapping.items():</span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> state <span class="kw">in</span> states:</span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> region</span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>coffee_population_df[<span class="st">'Region'</span>] <span class="op">=</span> coffee_population_df[<span class="st">'State'</span>].<span class="bu">apply</span>(get_region)</span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>coffee_population_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">

  <div id="df-7039c368-bc3a-4344-9ead-817f0dfe864c" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Starbucks Stores</th>
<th data-quarto-table-cell-role="th">Dunkin Donuts Stores</th>
<th data-quarto-table-cell-role="th">Population 2020</th>
<th data-quarto-table-cell-role="th">Yearly Starbucks Revenue</th>
<th data-quarto-table-cell-role="th">Yearly Dunkin Revenue</th>
<th data-quarto-table-cell-role="th">Estimated Starbucks Revenue</th>
<th data-quarto-table-cell-role="th">Estimated Dunkin Revenue</th>
<th data-quarto-table-cell-role="th">Region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>California</td>
<td>2021</td>
<td>2959</td>
<td>NaN</td>
<td>39538223</td>
<td>29.06</td>
<td>NaN</td>
<td>2.187781e+09</td>
<td>NaN</td>
<td>West</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Texas</td>
<td>2021</td>
<td>1215</td>
<td>NaN</td>
<td>30145505</td>
<td>29.06</td>
<td>NaN</td>
<td>8.983284e+08</td>
<td>NaN</td>
<td>South</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Florida</td>
<td>2021</td>
<td>786</td>
<td>NaN</td>
<td>21538187</td>
<td>29.06</td>
<td>NaN</td>
<td>5.811409e+08</td>
<td>NaN</td>
<td>South</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Washington</td>
<td>2021</td>
<td>739</td>
<td>NaN</td>
<td>7705281</td>
<td>29.06</td>
<td>NaN</td>
<td>5.463907e+08</td>
<td>NaN</td>
<td>West</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>New York</td>
<td>2021</td>
<td>643</td>
<td>NaN</td>
<td>20201249</td>
<td>29.06</td>
<td>NaN</td>
<td>4.754117e+08</td>
<td>NaN</td>
<td>Northeast</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">148</td>
<td>South Dakota</td>
<td>2024</td>
<td>0</td>
<td>0.0</td>
<td>886667</td>
<td>36.20</td>
<td>1.25</td>
<td>0.000000e+00</td>
<td>0.00</td>
<td>Midwest</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">149</td>
<td>West Virginia</td>
<td>2024</td>
<td>0</td>
<td>31.0</td>
<td>1793716</td>
<td>36.20</td>
<td>1.25</td>
<td>0.000000e+00</td>
<td>2036579.60</td>
<td>South</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">150</td>
<td>Wyoming</td>
<td>2024</td>
<td>0</td>
<td>1.0</td>
<td>576851</td>
<td>36.20</td>
<td>1.25</td>
<td>0.000000e+00</td>
<td>65696.12</td>
<td>West</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">151</td>
<td>North Dakota</td>
<td>2024</td>
<td>0</td>
<td>0.0</td>
<td>779094</td>
<td>36.20</td>
<td>1.25</td>
<td>0.000000e+00</td>
<td>0.00</td>
<td>Midwest</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">152</td>
<td>Vermont</td>
<td>2024</td>
<td>0</td>
<td>50.0</td>
<td>643077</td>
<td>36.20</td>
<td>1.25</td>
<td>0.000000e+00</td>
<td>3284805.80</td>
<td>Northeast</td>
</tr>
</tbody>
</table>

<p>153 rows × 10 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-7039c368-bc3a-4344-9ead-817f0dfe864c')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-7039c368-bc3a-4344-9ead-817f0dfe864c button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-7039c368-bc3a-4344-9ead-817f0dfe864c');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-93b05ec1-8892-465a-ab33-f387507938ba">
  <button class="colab-df-quickchart" onclick="quickchart('df-93b05ec1-8892-465a-ab33-f387507938ba')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-93b05ec1-8892-465a-ab33-f387507938ba button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_b62de3aa-f407-4e41-b7d6-124bcb686884">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('coffee_population_df')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_b62de3aa-f407-4e41-b7d6-124bcb686884 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('coffee_population_df');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
</section>
<section id="analyze" class="level2">
<h2 class="anchored" data-anchor-id="analyze">Analyze</h2>
<section id="assess-and-comment-on-the-prevalence-of-each-chain.-some-questions-to-consider-you-dont-need-to-answer-all-of-these-and-you-may-come-up-with-your-own" class="level3">
<h3 class="anchored" data-anchor-id="assess-and-comment-on-the-prevalence-of-each-chain.-some-questions-to-consider-you-dont-need-to-answer-all-of-these-and-you-may-come-up-with-your-own">7. Assess and comment on the prevalence of each chain. Some questions to consider (you don’t need to answer all of these and you may come up with your own):</h3>
<ul>
<li>Are some of these chains more prevalent in certain states than others? Possibly despite having less stores overall? Same questions for regions instead of states.</li>
</ul>
<div id="cell-29" class="cell" data-outputid="3213dd1e-646b-41e9-8ba6-62ca3c95b38a" data-execution_count="21">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotnine <span class="im">import</span> <span class="op">*</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>melted_df <span class="op">=</span> coffee_population_df.melt(</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    id_vars<span class="op">=</span>[<span class="st">'State'</span>, <span class="st">'Year'</span>, <span class="st">'Region'</span>],</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    value_vars<span class="op">=</span>[<span class="st">'Starbucks Stores'</span>, <span class="st">'Dunkin Donuts Stores'</span>],</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    var_name<span class="op">=</span><span class="st">'Brand'</span>,</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    value_name<span class="op">=</span><span class="st">'num_stores'</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>state_brand_data <span class="op">=</span> melted_df.groupby([<span class="st">'State'</span>, <span class="st">'Brand'</span>])[<span class="st">'num_stores'</span>].mean().reset_index()</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>state_brand_data</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">

  <div id="df-53780d99-de20-49b6-ba80-11a1239c1ec4" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Brand</th>
<th data-quarto-table-cell-role="th">num_stores</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alabama</td>
<td>Dunkin Donuts Stores</td>
<td>64.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Alabama</td>
<td>Starbucks Stores</td>
<td>61.333333</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Alaska</td>
<td>Dunkin Donuts Stores</td>
<td>0.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Alaska</td>
<td>Starbucks Stores</td>
<td>32.666667</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Arizona</td>
<td>Dunkin Donuts Stores</td>
<td>106.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">97</td>
<td>West Virginia</td>
<td>Starbucks Stores</td>
<td>29.666667</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">98</td>
<td>Wisconsin</td>
<td>Dunkin Donuts Stores</td>
<td>91.500000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">99</td>
<td>Wisconsin</td>
<td>Starbucks Stores</td>
<td>107.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">100</td>
<td>Wyoming</td>
<td>Dunkin Donuts Stores</td>
<td>1.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">101</td>
<td>Wyoming</td>
<td>Starbucks Stores</td>
<td>16.333333</td>
</tr>
</tbody>
</table>

<p>102 rows × 3 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-53780d99-de20-49b6-ba80-11a1239c1ec4')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-53780d99-de20-49b6-ba80-11a1239c1ec4 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-53780d99-de20-49b6-ba80-11a1239c1ec4');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-81308714-fa4e-413a-abdd-dd12aca84e87">
  <button class="colab-df-quickchart" onclick="quickchart('df-81308714-fa4e-413a-abdd-dd12aca84e87')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-81308714-fa4e-413a-abdd-dd12aca84e87 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_7064c1c0-62ec-4263-9460-8e026342a5d2">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('state_brand_data')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_7064c1c0-62ec-4263-9460-8e026342a5d2 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('state_brand_data');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<div id="cell-30" class="cell" data-outputid="ab1a50ec-d7ee-41a8-8d53-4c164ffa568f" data-execution_count="22">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotnine <span class="im">import</span> <span class="op">*</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    ggplot(state_brand_data, aes(x<span class="op">=</span><span class="st">'State'</span>, y<span class="op">=</span><span class="st">'num_stores'</span>, fill<span class="op">=</span><span class="st">'Brand'</span>)) <span class="op">+</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    geom_bar(stat<span class="op">=</span><span class="st">'identity'</span>, position<span class="op">=</span><span class="st">'stack'</span>) <span class="op">+</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    labs(title<span class="op">=</span><span class="st">'Average Number of Stores by State and Brand'</span>,</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>         x<span class="op">=</span><span class="st">'State'</span>, y<span class="op">=</span><span class="st">'Average Number of Stores'</span>) <span class="op">+</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    theme_minimal() <span class="op">+</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    theme(</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>        legend_title<span class="op">=</span>element_text(text<span class="op">=</span><span class="st">'Coffee Brand'</span>),</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>        axis_text_x<span class="op">=</span>element_text(rotation<span class="op">=</span><span class="dv">90</span>, hjust<span class="op">=</span><span class="dv">1</span>, size<span class="op">=</span><span class="dv">8</span>),</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>        figure_size<span class="op">=</span>(<span class="dv">16</span>, <span class="dv">8</span>),</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>        subplots_adjust<span class="op">=</span>{<span class="st">'bottom'</span>: <span class="fl">0.3</span>}</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/usr/local/lib/python3.10/dist-packages/plotnine/themes/themeable.py:2419: FutureWarning: You no longer need to use subplots_adjust to make space for the legend or text around the panels. This paramater will be removed in a future version. You can still use 'plot_margin' 'panel_spacing' for your other spacing needs.</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Lab4Final_files/figure-html/cell-23-output-2.png" width="1600" height="800" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="state-level-insights" class="level3">
<h3 class="anchored" data-anchor-id="state-level-insights"><strong>State-Level Insights:</strong></h3>
<p>Starbucks, with a total of <strong>39,304 stores</strong>, and Dunkin’ Donuts, with <strong>19,027 stores</strong>, exhibit distinct regional patterns shaped by their historical roots and market strategies. Starbucks, founded in <strong>Seattle, Washington</strong> on the West Coast, has a much stronger presence in <strong>California</strong>, <strong>Washington</strong>, and <strong>Texas</strong>. The brand’s dominance in these states, particularly California with over 3,000 stores, reflects the influence of the West Coast’s coffee culture on Starbucks’ expansion. In contrast, Dunkin’ Donuts, founded in <strong>Quincy, Massachusetts</strong>, shows a significant concentration of stores in the <strong>Northeast</strong>, including <strong>Massachusetts</strong>, <strong>New York</strong>, <strong>New Jersey</strong>, and <strong>Connecticut</strong>. These states are clear examples of the brand’s strong regional presence, with Dunkin’ Donuts often outnumbering Starbucks despite having <strong>fewer stores overall</strong>. Massachusetts, in particular, stands out as a Dunkin’ stronghold, aligning with the brand’s origins and deep-rooted popularity among locals.</p>
<p>In states such as <strong>Georgia</strong>, <strong>Florida</strong>, and <strong>Illinois</strong>, both Starbucks and Dunkin’ Donuts maintain a relatively balanced presence, indicating active competition in these markets. However, both brands have limited or no presence in sparsely populated states like <strong>Montana</strong>, <strong>North Dakota</strong>, and <strong>Wyoming</strong>, showing that population density and market demand play key roles in expansion strategies. Starbucks’ dominance in the <strong>West</strong> and <strong>South</strong> regions, alongside Dunkin’s concentration in the <strong>Northeast</strong>, highlights how these brands have grown along historically significant lines. Despite Dunkin’ Donuts having fewer stores overall, it has maintained a competitive edge in the Northeast through strong brand loyalty and regional identity. These patterns emphasize how both Starbucks and Dunkin’ Donuts have built their market presence by leveraging their <strong>regional origins</strong> and aligning with local consumer preferences.</p>
<div id="cell-32" class="cell" data-outputid="3915ed94-a143-41eb-edb0-7ba853da6c15" data-execution_count="23">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>melted_df <span class="op">=</span> coffee_population_df.melt(</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    id_vars<span class="op">=</span>[<span class="st">'State'</span>, <span class="st">'Year'</span>, <span class="st">'Region'</span>],</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    value_vars<span class="op">=</span>[<span class="st">'Starbucks Stores'</span>, <span class="st">'Dunkin Donuts Stores'</span>],</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    var_name<span class="op">=</span><span class="st">'Brand'</span>,</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    value_name<span class="op">=</span><span class="st">'num_stores'</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>state_brand_data <span class="op">=</span> melted_df.groupby([<span class="st">'State'</span>, <span class="st">'Brand'</span>])[<span class="st">'num_stores'</span>].mean().reset_index()</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>region_mapping_flat <span class="op">=</span> {</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Connecticut'</span>: <span class="st">'Northeast'</span>, <span class="st">'Maine'</span>: <span class="st">'Northeast'</span>, <span class="st">'Massachusetts'</span>: <span class="st">'Northeast'</span>,</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'New Hampshire'</span>: <span class="st">'Northeast'</span>, <span class="st">'Rhode Island'</span>: <span class="st">'Northeast'</span>, <span class="st">'Vermont'</span>: <span class="st">'Northeast'</span>,</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'New Jersey'</span>: <span class="st">'Northeast'</span>, <span class="st">'New York'</span>: <span class="st">'Northeast'</span>, <span class="st">'Pennsylvania'</span>: <span class="st">'Northeast'</span>,</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Illinois'</span>: <span class="st">'Midwest'</span>, <span class="st">'Indiana'</span>: <span class="st">'Midwest'</span>, <span class="st">'Michigan'</span>: <span class="st">'Midwest'</span>, <span class="st">'Ohio'</span>: <span class="st">'Midwest'</span>,</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Wisconsin'</span>: <span class="st">'Midwest'</span>, <span class="st">'Iowa'</span>: <span class="st">'Midwest'</span>, <span class="st">'Kansas'</span>: <span class="st">'Midwest'</span>, <span class="st">'Minnesota'</span>: <span class="st">'Midwest'</span>,</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Missouri'</span>: <span class="st">'Midwest'</span>, <span class="st">'Nebraska'</span>: <span class="st">'Midwest'</span>, <span class="st">'North Dakota'</span>: <span class="st">'Midwest'</span>, <span class="st">'South Dakota'</span>: <span class="st">'Midwest'</span>,</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Delaware'</span>: <span class="st">'South'</span>, <span class="st">'Florida'</span>: <span class="st">'South'</span>, <span class="st">'Georgia'</span>: <span class="st">'South'</span>, <span class="st">'Maryland'</span>: <span class="st">'South'</span>,</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">'North Carolina'</span>: <span class="st">'South'</span>, <span class="st">'South Carolina'</span>: <span class="st">'South'</span>, <span class="st">'Virginia'</span>: <span class="st">'South'</span>,</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Washington, D.C'</span>: <span class="st">'South'</span>, <span class="st">'West Virginia'</span>: <span class="st">'South'</span>, <span class="st">'Alabama'</span>: <span class="st">'South'</span>, <span class="st">'Kentucky'</span>: <span class="st">'South'</span>,</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Mississippi'</span>: <span class="st">'South'</span>, <span class="st">'Tennessee'</span>: <span class="st">'South'</span>, <span class="st">'Arkansas'</span>: <span class="st">'South'</span>, <span class="st">'Louisiana'</span>: <span class="st">'South'</span>,</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Oklahoma'</span>: <span class="st">'South'</span>, <span class="st">'Texas'</span>: <span class="st">'South'</span>, <span class="st">'Arizona'</span>: <span class="st">'West'</span>, <span class="st">'Colorado'</span>: <span class="st">'West'</span>, <span class="st">'Idaho'</span>: <span class="st">'West'</span>,</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Montana'</span>: <span class="st">'West'</span>, <span class="st">'Nevada'</span>: <span class="st">'West'</span>, <span class="st">'New Mexico'</span>: <span class="st">'West'</span>, <span class="st">'Utah'</span>: <span class="st">'West'</span>, <span class="st">'Wyoming'</span>: <span class="st">'West'</span>,</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Alaska'</span>: <span class="st">'West'</span>, <span class="st">'California'</span>: <span class="st">'West'</span>, <span class="st">'Hawaii'</span>: <span class="st">'West'</span>, <span class="st">'Oregon'</span>: <span class="st">'West'</span>, <span class="st">'Washington'</span>: <span class="st">'West'</span></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>state_brand_data[<span class="st">'Region'</span>] <span class="op">=</span> state_brand_data[<span class="st">'State'</span>].<span class="bu">map</span>(region_mapping_flat)</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>state_brand_data_clean <span class="op">=</span> state_brand_data.dropna(subset<span class="op">=</span>[<span class="st">'Region'</span>])</span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotnine <span class="im">import</span> <span class="op">*</span></span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a>plot <span class="op">=</span> (</span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a>    ggplot(state_brand_data_clean, aes(x<span class="op">=</span><span class="st">'Brand'</span>, y<span class="op">=</span><span class="st">'num_stores'</span>, fill<span class="op">=</span><span class="st">'Brand'</span>)) <span class="op">+</span></span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a>    geom_bar(stat<span class="op">=</span><span class="st">'identity'</span>, position<span class="op">=</span><span class="st">'stack'</span>) <span class="op">+</span></span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a>    facet_wrap(<span class="st">'~Region'</span>, ncol<span class="op">=</span><span class="dv">2</span>) <span class="op">+</span></span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a>    labs(title<span class="op">=</span><span class="st">'Average Number of Stores by Brand and Region'</span>,</span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>         x<span class="op">=</span><span class="st">'Brand'</span>, y<span class="op">=</span><span class="st">'Average Number of Stores'</span>) <span class="op">+</span></span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a>    scale_y_continuous(limits<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">5000</span>]) <span class="op">+</span></span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a>    theme_minimal() <span class="op">+</span></span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a>    theme(</span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a>        axis_text_x<span class="op">=</span>element_text(rotation<span class="op">=</span><span class="dv">45</span>, hjust<span class="op">=</span><span class="dv">1</span>),</span>
<span id="cb27-44"><a href="#cb27-44" aria-hidden="true" tabindex="-1"></a>        legend_title<span class="op">=</span>element_text(text<span class="op">=</span><span class="st">'Brand'</span>),</span>
<span id="cb27-45"><a href="#cb27-45" aria-hidden="true" tabindex="-1"></a>        figure_size<span class="op">=</span>(<span class="dv">16</span>, <span class="dv">8</span>)</span>
<span id="cb27-46"><a href="#cb27-46" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb27-47"><a href="#cb27-47" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-48"><a href="#cb27-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-49"><a href="#cb27-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-50"><a href="#cb27-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-51"><a href="#cb27-51" aria-hidden="true" tabindex="-1"></a>plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/usr/local/lib/python3.10/dist-packages/plotnine/layer.py:364: PlotnineWarning: geom_bar : Removed 4 rows containing missing values.</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Lab4Final_files/figure-html/cell-24-output-2.png" width="1600" height="800" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="regional-level-insights" class="level3">
<h3 class="anchored" data-anchor-id="regional-level-insights"><strong>Regional-Level Insights</strong></h3>
<p>The regional distribution of Starbucks and Dunkin’ Donuts reveals distinct patterns in their market presence, influenced by their brand origins and strategic expansion. In the <strong>Northeast</strong>, Dunkin’ Donuts dominates with the largest number of stores, aligning with its roots in Quincy, Massachusetts. The brand has maintained strong regional loyalty, reinforcing its prominence in this region. Starbucks, though present in the Northeast, has a comparatively smaller footprint.</p>
<p>In contrast, <strong>Starbucks holds a commanding presence in the West</strong>, where it was founded in Seattle, Washington. The West Coast’s coffee culture has contributed to Starbucks’ significant market penetration, while Dunkin’ Donuts has a minimal presence in this region.</p>
<p>In the <strong>South</strong> and <strong>Midwest</strong>, both brands exhibit strong competition, although Starbucks maintains a slight edge in both regions. Starbucks’ broader market appeal and association with urban and suburban environments have allowed it to expand effectively in these regions. Dunkin’ Donuts, despite having fewer stores overall compared to Starbucks, has managed to secure a competitive position in the South and Midwest, likely leveraging its reputation for quick-service coffee and breakfast.</p>
<p>This analysis highlights how both brands capitalize on their regional strengths—Dunkin’ Donuts in the Northeast and Starbucks in the West—while competing in other markets with varying degrees of success. Starbucks, with its larger global footprint, maintains a stronger presence in most regions, but Dunkin’ Donuts’ deep-rooted loyalty in the Northeast ensures its dominance in that region despite having fewer stores overall.</p>
<ul>
<li>How does your chosen financial metric change by state and region for each chain? For example, having 5 stores in California is very different from having 5 stores in Wyoming.</li>
</ul>
<div id="cell-35" class="cell" data-outputid="9f6766f3-4c43-4c5e-e33d-981c1a328730" data-execution_count="24">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotnine <span class="im">import</span> ggplot, aes, geom_bar, labs, theme, element_text, coord_flip</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>revenue_df <span class="op">=</span> coffee_population_df.melt(</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    id_vars<span class="op">=</span>[<span class="st">'State'</span>],</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    value_vars<span class="op">=</span>[<span class="st">'Estimated Starbucks Revenue'</span>, <span class="st">'Estimated Dunkin Revenue'</span>],</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    var_name<span class="op">=</span><span class="st">'Brand'</span>,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    value_name<span class="op">=</span><span class="st">'Revenue'</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>revenue_df[<span class="st">'Brand'</span>] <span class="op">=</span> revenue_df[<span class="st">'Brand'</span>].replace({</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Estimated Starbucks Revenue'</span>: <span class="st">'Starbucks Stores'</span>,</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Estimated Dunkin Revenue'</span>: <span class="st">'Dunkin Donuts Stores'</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotnine <span class="im">import</span> ggplot, aes, geom_bar, labs, theme, element_text, scale_y_continuous, theme_light</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>plot <span class="op">=</span> (</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>    ggplot(revenue_df, aes(x<span class="op">=</span><span class="st">'State'</span>, y<span class="op">=</span><span class="st">'Revenue'</span>, fill<span class="op">=</span><span class="st">'Brand'</span>)) <span class="op">+</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>    geom_bar(stat<span class="op">=</span><span class="st">'identity'</span>, position<span class="op">=</span><span class="st">'dodge'</span>) <span class="op">+</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>    labs(</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="st">'Estimated Revenue per Store by State and Brand'</span>,</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">'State'</span>,</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">'Revenue (USD)'</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>    ) <span class="op">+</span></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>    theme_light() <span class="op">+</span></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>    scale_y_continuous(expand<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">0</span>], limits<span class="op">=</span>(<span class="dv">0</span>, <span class="fl">3e9</span>)) <span class="op">+</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>    theme(</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>        axis_text_x<span class="op">=</span>element_text(rotation<span class="op">=</span><span class="dv">90</span>, hjust<span class="op">=</span><span class="dv">1</span>),</span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>        figure_size<span class="op">=</span>(<span class="dv">20</span>, <span class="dv">8</span>)</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/usr/local/lib/python3.10/dist-packages/plotnine/layer.py:364: PlotnineWarning: geom_bar : Removed 51 rows containing missing values.</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Lab4Final_files/figure-html/cell-25-output-2.png" width="2000" height="800" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-36" class="cell" data-outputid="7cdb0c37-dffb-4f06-b246-009f796693f4" data-execution_count="25">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotnine <span class="im">import</span> ggplot, aes, geom_bar, labs, theme, element_text, scale_y_continuous, theme_light, facet_wrap</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>region_mapping_flat <span class="op">=</span> {</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Connecticut'</span>: <span class="st">'Northeast'</span>, <span class="st">'Maine'</span>: <span class="st">'Northeast'</span>, <span class="st">'Massachusetts'</span>: <span class="st">'Northeast'</span>,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'New Hampshire'</span>: <span class="st">'Northeast'</span>, <span class="st">'Rhode Island'</span>: <span class="st">'Northeast'</span>, <span class="st">'Vermont'</span>: <span class="st">'Northeast'</span>,</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'New Jersey'</span>: <span class="st">'Northeast'</span>, <span class="st">'New York'</span>: <span class="st">'Northeast'</span>, <span class="st">'Pennsylvania'</span>: <span class="st">'Northeast'</span>,</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Illinois'</span>: <span class="st">'Midwest'</span>, <span class="st">'Indiana'</span>: <span class="st">'Midwest'</span>, <span class="st">'Michigan'</span>: <span class="st">'Midwest'</span>, <span class="st">'Ohio'</span>: <span class="st">'Midwest'</span>,</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Wisconsin'</span>: <span class="st">'Midwest'</span>, <span class="st">'Iowa'</span>: <span class="st">'Midwest'</span>, <span class="st">'Kansas'</span>: <span class="st">'Midwest'</span>, <span class="st">'Minnesota'</span>: <span class="st">'Midwest'</span>,</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Missouri'</span>: <span class="st">'Midwest'</span>, <span class="st">'Nebraska'</span>: <span class="st">'Midwest'</span>, <span class="st">'North Dakota'</span>: <span class="st">'Midwest'</span>, <span class="st">'South Dakota'</span>: <span class="st">'Midwest'</span>,</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Delaware'</span>: <span class="st">'South'</span>, <span class="st">'Florida'</span>: <span class="st">'South'</span>, <span class="st">'Georgia'</span>: <span class="st">'South'</span>, <span class="st">'Maryland'</span>: <span class="st">'South'</span>,</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'North Carolina'</span>: <span class="st">'South'</span>, <span class="st">'South Carolina'</span>: <span class="st">'South'</span>, <span class="st">'Virginia'</span>: <span class="st">'South'</span>,</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Washington, D.C'</span>: <span class="st">'South'</span>, <span class="st">'West Virginia'</span>: <span class="st">'South'</span>, <span class="st">'Alabama'</span>: <span class="st">'South'</span>, <span class="st">'Kentucky'</span>: <span class="st">'South'</span>,</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Mississippi'</span>: <span class="st">'South'</span>, <span class="st">'Tennessee'</span>: <span class="st">'South'</span>, <span class="st">'Arkansas'</span>: <span class="st">'South'</span>, <span class="st">'Louisiana'</span>: <span class="st">'South'</span>,</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Oklahoma'</span>: <span class="st">'South'</span>, <span class="st">'Texas'</span>: <span class="st">'South'</span>, <span class="st">'Arizona'</span>: <span class="st">'West'</span>, <span class="st">'Colorado'</span>: <span class="st">'West'</span>, <span class="st">'Idaho'</span>: <span class="st">'West'</span>,</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Montana'</span>: <span class="st">'West'</span>, <span class="st">'Nevada'</span>: <span class="st">'West'</span>, <span class="st">'New Mexico'</span>: <span class="st">'West'</span>, <span class="st">'Utah'</span>: <span class="st">'West'</span>, <span class="st">'Wyoming'</span>: <span class="st">'West'</span>,</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Alaska'</span>: <span class="st">'West'</span>, <span class="st">'California'</span>: <span class="st">'West'</span>, <span class="st">'Hawaii'</span>: <span class="st">'West'</span>, <span class="st">'Oregon'</span>: <span class="st">'West'</span>, <span class="st">'Washington'</span>: <span class="st">'West'</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>revenue_df[<span class="st">'Region'</span>] <span class="op">=</span> revenue_df[<span class="st">'State'</span>].<span class="bu">map</span>(region_mapping_flat)</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>revenue_df_clean <span class="op">=</span> revenue_df.dropna(subset<span class="op">=</span>[<span class="st">'Region'</span>])</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>plot <span class="op">=</span> (</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>    ggplot(revenue_df_clean, aes(x<span class="op">=</span><span class="st">'Region'</span>, y<span class="op">=</span><span class="st">'Revenue'</span>, fill<span class="op">=</span><span class="st">'Brand'</span>)) <span class="op">+</span></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>    geom_bar(stat<span class="op">=</span><span class="st">'identity'</span>, position<span class="op">=</span><span class="st">'dodge'</span>) <span class="op">+</span></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>    labs(</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="st">'Estimated Revenue per Store by Region and Brand'</span>,</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">'Region'</span>,</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">'Revenue (USD)'</span></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>    ) <span class="op">+</span></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>    theme_light() <span class="op">+</span></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>    scale_y_continuous(expand<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">0</span>], limits<span class="op">=</span>(<span class="dv">0</span>, <span class="fl">3e9</span>)) <span class="op">+</span></span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>    theme(</span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>        axis_text_x<span class="op">=</span>element_text(rotation<span class="op">=</span><span class="dv">45</span>, hjust<span class="op">=</span><span class="dv">1</span>),</span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>        figure_size<span class="op">=</span>(<span class="dv">16</span>, <span class="dv">10</span>)</span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>    ) <span class="op">+</span></span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>    facet_wrap(<span class="st">'~Brand'</span>, ncol<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a>plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/usr/local/lib/python3.10/dist-packages/plotnine/layer.py:364: PlotnineWarning: geom_bar : Removed 50 rows containing missing values.</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Lab4Final_files/figure-html/cell-26-output-2.png" width="1600" height="1000" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The financial metric used in this analysis—estimated state-level revenue for Starbucks and Dunkin’ Donuts—is based on each company’s total <strong>yearly revenue divided by the number of stores in each state</strong>, as individual state/store revenues are not publicly reported. The results show that <strong>Starbucks dominates state-level revenue</strong> across nearly all states, largely due to its significantly higher revenue, ranging from <strong>$29 billion to $36 billion</strong> between 2021, 2023, and 2024. In comparison, Dunkin’ Donuts reported a far smaller <strong>revenue of $1.4 billion to $1.25 billion</strong> in 2023 and 2024, leading to Starbucks outperforming Dunkin’ even in states where both brands are present.</p>
<p>Since the revenue estimates are proportional to the <strong>number of stores per state</strong>, states with a larger number of locations—such as <strong>California, Texas, and Florida</strong>—naturally show higher total revenues. However, Starbucks still generates more revenue even in states with fewer stores, like <strong>Alaska</strong>, reflecting its broader market presence and higher national revenue per store. Regional differences also play a role. Starbucks maintains a strong presence in <strong>urban and coastal areas</strong>—particularly in states like California, New York, and Washington—resulting in higher estimated revenues in those regions. In contrast, <strong>Dunkin’ Donuts’ strongest presence is in the Northeast</strong>, with states like Massachusetts, New York, and New Jersey contributing most of its revenue. However, even in these regions, Starbucks’ total revenue outpaces Dunkin’s due to its <strong>larger market share and financial scale</strong>.</p>
<p>Given these dynamics, <strong>adding five stores in California would be more profitable than adding five stores in Wyoming</strong>. The higher population density, customer base, and spending patterns in California drive more sales per store, further amplifying the impact of Starbucks’ brand strength and customer loyalty. Ultimately, Starbucks’ <strong>dominant brand value and broader market reach</strong> make it the clear leader in state-level revenue across the U.S. The company’s higher overall revenue and more extensive geographic presence give it an advantage, even when store counts between the two brands are similar in certain states. Dunkin’ Donuts, while successful in select regions, cannot match Starbucks’ financial impact at the national or state level due to <strong>lower overall revenue and more limited geographic penetration</strong>. This analysis highlights the significant gap between the two brands, with Starbucks consistently outperforming Dunkin’ in terms of revenue, regardless of the number of stores in a particular state.</p>
<ul>
<li>Does the distribution of each chain’s stores match population distribution, by both state/region?</li>
</ul>
<div id="cell-39" class="cell" data-outputid="83932d0e-7c9f-499c-fb42-79bac57eef55" data-execution_count="26">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotnine <span class="im">import</span> ggplot, aes, geom_point, labs, theme_light, facet_wrap, theme, element_text</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Map states to regions</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>region_mapping_flat <span class="op">=</span> {</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Connecticut'</span>: <span class="st">'Northeast'</span>, <span class="st">'Maine'</span>: <span class="st">'Northeast'</span>, <span class="st">'Massachusetts'</span>: <span class="st">'Northeast'</span>,</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'New Hampshire'</span>: <span class="st">'Northeast'</span>, <span class="st">'Rhode Island'</span>: <span class="st">'Northeast'</span>, <span class="st">'Vermont'</span>: <span class="st">'Northeast'</span>,</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'New Jersey'</span>: <span class="st">'Northeast'</span>, <span class="st">'New York'</span>: <span class="st">'Northeast'</span>, <span class="st">'Pennsylvania'</span>: <span class="st">'Northeast'</span>,</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Illinois'</span>: <span class="st">'Midwest'</span>, <span class="st">'Indiana'</span>: <span class="st">'Midwest'</span>, <span class="st">'Michigan'</span>: <span class="st">'Midwest'</span>, <span class="st">'Ohio'</span>: <span class="st">'Midwest'</span>,</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Wisconsin'</span>: <span class="st">'Midwest'</span>, <span class="st">'Iowa'</span>: <span class="st">'Midwest'</span>, <span class="st">'Kansas'</span>: <span class="st">'Midwest'</span>, <span class="st">'Minnesota'</span>: <span class="st">'Midwest'</span>,</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Missouri'</span>: <span class="st">'Midwest'</span>, <span class="st">'Nebraska'</span>: <span class="st">'Midwest'</span>, <span class="st">'North Dakota'</span>: <span class="st">'Midwest'</span>, <span class="st">'South Dakota'</span>: <span class="st">'Midwest'</span>,</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Delaware'</span>: <span class="st">'South'</span>, <span class="st">'Florida'</span>: <span class="st">'South'</span>, <span class="st">'Georgia'</span>: <span class="st">'South'</span>, <span class="st">'Maryland'</span>: <span class="st">'South'</span>,</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'North Carolina'</span>: <span class="st">'South'</span>, <span class="st">'South Carolina'</span>: <span class="st">'South'</span>, <span class="st">'Virginia'</span>: <span class="st">'South'</span>,</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Washington, D.C'</span>: <span class="st">'South'</span>, <span class="st">'West Virginia'</span>: <span class="st">'South'</span>, <span class="st">'Alabama'</span>: <span class="st">'South'</span>, <span class="st">'Kentucky'</span>: <span class="st">'South'</span>,</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Mississippi'</span>: <span class="st">'South'</span>, <span class="st">'Tennessee'</span>: <span class="st">'South'</span>, <span class="st">'Arkansas'</span>: <span class="st">'South'</span>, <span class="st">'Louisiana'</span>: <span class="st">'South'</span>,</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Oklahoma'</span>: <span class="st">'South'</span>, <span class="st">'Texas'</span>: <span class="st">'South'</span>, <span class="st">'Arizona'</span>: <span class="st">'West'</span>, <span class="st">'Colorado'</span>: <span class="st">'West'</span>, <span class="st">'Idaho'</span>: <span class="st">'West'</span>,</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Montana'</span>: <span class="st">'West'</span>, <span class="st">'Nevada'</span>: <span class="st">'West'</span>, <span class="st">'New Mexico'</span>: <span class="st">'West'</span>, <span class="st">'Utah'</span>: <span class="st">'West'</span>, <span class="st">'Wyoming'</span>: <span class="st">'West'</span>,</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Alaska'</span>: <span class="st">'West'</span>, <span class="st">'California'</span>: <span class="st">'West'</span>, <span class="st">'Hawaii'</span>: <span class="st">'West'</span>, <span class="st">'Oregon'</span>: <span class="st">'West'</span>, <span class="st">'Washington'</span>: <span class="st">'West'</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>coffee_population_df[<span class="st">'Region'</span>] <span class="op">=</span> coffee_population_df[<span class="st">'State'</span>].<span class="bu">map</span>(region_mapping_flat)</span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>store_population_df_clean <span class="op">=</span> coffee_population_df.dropna(subset<span class="op">=</span>[<span class="st">'Region'</span>])</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>store_population_df <span class="op">=</span> store_population_df_clean.melt(</span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>    id_vars<span class="op">=</span>[<span class="st">'State'</span>, <span class="st">'Region'</span>, <span class="st">'Population 2020'</span>],</span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>    value_vars<span class="op">=</span>[<span class="st">'Starbucks Stores'</span>, <span class="st">'Dunkin Donuts Stores'</span>],</span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>    var_name<span class="op">=</span><span class="st">'Brand'</span>,</span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a>    value_name<span class="op">=</span><span class="st">'Store_Count'</span></span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>plot <span class="op">=</span> (</span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a>    ggplot(store_population_df, aes(x<span class="op">=</span><span class="st">'Population 2020'</span>, y<span class="op">=</span><span class="st">'Store_Count'</span>, color<span class="op">=</span><span class="st">'Brand'</span>)) <span class="op">+</span></span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>    geom_point() <span class="op">+</span></span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>    facet_wrap(<span class="st">'~Region'</span>) <span class="op">+</span></span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a>    labs(</span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="st">"Store Distribution vs Population by Region and Brand"</span>,</span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">"Population (2020 Census)"</span>,</span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">"Number of Stores"</span></span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a>    ) <span class="op">+</span></span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a>    theme_light() <span class="op">+</span></span>
<span id="cb33-43"><a href="#cb33-43" aria-hidden="true" tabindex="-1"></a>    theme(</span>
<span id="cb33-44"><a href="#cb33-44" aria-hidden="true" tabindex="-1"></a>        axis_text_x<span class="op">=</span>element_text(rotation<span class="op">=</span><span class="dv">45</span>, hjust<span class="op">=</span><span class="dv">1</span>),</span>
<span id="cb33-45"><a href="#cb33-45" aria-hidden="true" tabindex="-1"></a>        figure_size<span class="op">=</span>(<span class="dv">16</span>, <span class="dv">8</span>)</span>
<span id="cb33-46"><a href="#cb33-46" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-47"><a href="#cb33-47" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-48"><a href="#cb33-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-49"><a href="#cb33-49" aria-hidden="true" tabindex="-1"></a>plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/usr/local/lib/python3.10/dist-packages/plotnine/layer.py:364: PlotnineWarning: geom_point : Removed 50 rows containing missing values.</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Lab4Final_files/figure-html/cell-27-output-2.png" width="1600" height="800" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-40" class="cell" data-outputid="d682b0ca-5466-4c34-8ff7-63371c146ccf" data-execution_count="27">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotnine <span class="im">import</span> ggplot, aes, geom_point, labs, theme_light, facet_wrap, theme, element_text</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>region_mapping_flat <span class="op">=</span> {</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Connecticut'</span>: <span class="st">'Northeast'</span>, <span class="st">'Maine'</span>: <span class="st">'Northeast'</span>, <span class="st">'Massachusetts'</span>: <span class="st">'Northeast'</span>,</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'New Hampshire'</span>: <span class="st">'Northeast'</span>, <span class="st">'Rhode Island'</span>: <span class="st">'Northeast'</span>, <span class="st">'Vermont'</span>: <span class="st">'Northeast'</span>,</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'New Jersey'</span>: <span class="st">'Northeast'</span>, <span class="st">'New York'</span>: <span class="st">'Northeast'</span>, <span class="st">'Pennsylvania'</span>: <span class="st">'Northeast'</span>,</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Illinois'</span>: <span class="st">'Midwest'</span>, <span class="st">'Indiana'</span>: <span class="st">'Midwest'</span>, <span class="st">'Michigan'</span>: <span class="st">'Midwest'</span>, <span class="st">'Ohio'</span>: <span class="st">'Midwest'</span>,</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Wisconsin'</span>: <span class="st">'Midwest'</span>, <span class="st">'Iowa'</span>: <span class="st">'Midwest'</span>, <span class="st">'Kansas'</span>: <span class="st">'Midwest'</span>, <span class="st">'Minnesota'</span>: <span class="st">'Midwest'</span>,</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Missouri'</span>: <span class="st">'Midwest'</span>, <span class="st">'Nebraska'</span>: <span class="st">'Midwest'</span>, <span class="st">'North Dakota'</span>: <span class="st">'Midwest'</span>, <span class="st">'South Dakota'</span>: <span class="st">'Midwest'</span>,</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Delaware'</span>: <span class="st">'South'</span>, <span class="st">'Florida'</span>: <span class="st">'South'</span>, <span class="st">'Georgia'</span>: <span class="st">'South'</span>, <span class="st">'Maryland'</span>: <span class="st">'South'</span>,</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'North Carolina'</span>: <span class="st">'South'</span>, <span class="st">'South Carolina'</span>: <span class="st">'South'</span>, <span class="st">'Virginia'</span>: <span class="st">'South'</span>,</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Washington, D.C'</span>: <span class="st">'South'</span>, <span class="st">'West Virginia'</span>: <span class="st">'South'</span>, <span class="st">'Alabama'</span>: <span class="st">'South'</span>, <span class="st">'Kentucky'</span>: <span class="st">'South'</span>,</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Mississippi'</span>: <span class="st">'South'</span>, <span class="st">'Tennessee'</span>: <span class="st">'South'</span>, <span class="st">'Arkansas'</span>: <span class="st">'South'</span>, <span class="st">'Louisiana'</span>: <span class="st">'South'</span>,</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Oklahoma'</span>: <span class="st">'South'</span>, <span class="st">'Texas'</span>: <span class="st">'South'</span>, <span class="st">'Arizona'</span>: <span class="st">'West'</span>, <span class="st">'Colorado'</span>: <span class="st">'West'</span>, <span class="st">'Idaho'</span>: <span class="st">'West'</span>,</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Montana'</span>: <span class="st">'West'</span>, <span class="st">'Nevada'</span>: <span class="st">'West'</span>, <span class="st">'New Mexico'</span>: <span class="st">'West'</span>, <span class="st">'Utah'</span>: <span class="st">'West'</span>, <span class="st">'Wyoming'</span>: <span class="st">'West'</span>,</span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Alaska'</span>: <span class="st">'West'</span>, <span class="st">'California'</span>: <span class="st">'West'</span>, <span class="st">'Hawaii'</span>: <span class="st">'West'</span>, <span class="st">'Oregon'</span>: <span class="st">'West'</span>, <span class="st">'Washington'</span>: <span class="st">'West'</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>coffee_population_df[<span class="st">'Region'</span>] <span class="op">=</span> coffee_population_df[<span class="st">'State'</span>].<span class="bu">map</span>(region_mapping_flat)</span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>store_population_df_clean <span class="op">=</span> coffee_population_df.dropna(subset<span class="op">=</span>[<span class="st">'Region'</span>])</span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a>store_population_df <span class="op">=</span> store_population_df_clean.melt(</span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>    id_vars<span class="op">=</span>[<span class="st">'State'</span>, <span class="st">'Region'</span>, <span class="st">'Population 2020'</span>],</span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a>    value_vars<span class="op">=</span>[<span class="st">'Starbucks Stores'</span>, <span class="st">'Dunkin Donuts Stores'</span>],</span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a>    var_name<span class="op">=</span><span class="st">'Brand'</span>,</span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a>    value_name<span class="op">=</span><span class="st">'Store_Count'</span></span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a>plot <span class="op">=</span> (</span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a>    ggplot(store_population_df, aes(x<span class="op">=</span><span class="st">'Population 2020'</span>, y<span class="op">=</span><span class="st">'Store_Count'</span>, color<span class="op">=</span><span class="st">'Brand'</span>)) <span class="op">+</span></span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a>    geom_point() <span class="op">+</span></span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a>    facet_wrap(<span class="st">'~State'</span>, ncol<span class="op">=</span><span class="dv">5</span>) <span class="op">+</span></span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a>    labs(</span>
<span id="cb35-37"><a href="#cb35-37" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="st">"Store Distribution vs Population by State and Brand"</span>,</span>
<span id="cb35-38"><a href="#cb35-38" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">"Population (2020 Census)"</span>,</span>
<span id="cb35-39"><a href="#cb35-39" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">"Number of Stores"</span></span>
<span id="cb35-40"><a href="#cb35-40" aria-hidden="true" tabindex="-1"></a>    ) <span class="op">+</span></span>
<span id="cb35-41"><a href="#cb35-41" aria-hidden="true" tabindex="-1"></a>    theme_light() <span class="op">+</span></span>
<span id="cb35-42"><a href="#cb35-42" aria-hidden="true" tabindex="-1"></a>    theme(</span>
<span id="cb35-43"><a href="#cb35-43" aria-hidden="true" tabindex="-1"></a>        axis_text_x<span class="op">=</span>element_text(rotation<span class="op">=</span><span class="dv">45</span>, hjust<span class="op">=</span><span class="dv">1</span>),</span>
<span id="cb35-44"><a href="#cb35-44" aria-hidden="true" tabindex="-1"></a>        figure_size<span class="op">=</span>(<span class="dv">20</span>, <span class="dv">25</span>)</span>
<span id="cb35-45"><a href="#cb35-45" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb35-46"><a href="#cb35-46" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb35-47"><a href="#cb35-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-48"><a href="#cb35-48" aria-hidden="true" tabindex="-1"></a>plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/usr/local/lib/python3.10/dist-packages/plotnine/layer.py:364: PlotnineWarning: geom_point : Removed 50 rows containing missing values.</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Lab4Final_files/figure-html/cell-28-output-2.png" width="2000" height="2500" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The distribution of Starbucks stores aligns closely with population across regions, showing a <strong>positive correlation</strong> where states with larger populations tend to have more stores. <strong>While there is a positive relationship between population size and the number of stores in all regions</strong>, Starbucks shows <strong>greater consistency in expanding its stores</strong> across states with varying population sizes. This suggests that Starbucks follows a <strong>broader market penetration strategy</strong>, reaching even less populated areas. In contrast, <strong>Dunkin’ Donuts’ distribution is more concentrated</strong> in specific regions, particularly the <strong>Northeast</strong>, where it has established brand loyalty. Dunkin’ has a smaller presence in the West and South, focusing more heavily on <strong>core markets</strong> rather than national distribution. Starbucks, with a more <strong>diverse geographic strategy</strong>, maintains higher store counts across a wider range of regions and population sizes.</p>
<ul>
<li>Do the financial data match what you’d expect based on the number and locations of the stores? Why or why not?</li>
</ul>
<div id="cell-43" class="cell" data-outputid="b3d22d16-1ef4-49de-b9db-b8686c6f356b" data-execution_count="28">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotnine <span class="im">import</span> ggplot, aes, geom_violin, labs, theme_light, theme, facet_wrap, element_text</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>coffee_population_df[<span class="st">'Starbucks_Revenue'</span>] <span class="op">=</span> coffee_population_df[<span class="st">'Estimated Starbucks Revenue'</span>]</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>coffee_population_df[<span class="st">'Dunkin_Revenue'</span>] <span class="op">=</span> coffee_population_df[<span class="st">'Estimated Dunkin Revenue'</span>]</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>final_df <span class="op">=</span> coffee_population_df.melt(</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>    id_vars<span class="op">=</span>[<span class="st">'State'</span>, <span class="st">'Region'</span>, <span class="st">'Starbucks_Revenue'</span>, <span class="st">'Dunkin_Revenue'</span>],</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>    value_vars<span class="op">=</span>[<span class="st">'Starbucks Stores'</span>, <span class="st">'Dunkin Donuts Stores'</span>],</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>    var_name<span class="op">=</span><span class="st">'Brand'</span>,</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>    value_name<span class="op">=</span><span class="st">'num_stores'</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>final_df[<span class="st">'revenue'</span>] <span class="op">=</span> final_df.<span class="bu">apply</span>(</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> row: row[<span class="st">'Starbucks_Revenue'</span>] <span class="cf">if</span> row[<span class="st">'Brand'</span>] <span class="op">==</span> <span class="st">'Starbucks Stores'</span> <span class="cf">else</span> row[<span class="st">'Dunkin_Revenue'</span>], axis<span class="op">=</span><span class="dv">1</span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>final_df[<span class="st">'Brand'</span>] <span class="op">=</span> final_df[<span class="st">'Brand'</span>].replace({</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Starbucks Stores'</span>: <span class="st">'Starbucks'</span>,</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Dunkin Donuts Stores'</span>: <span class="st">'Dunkin</span><span class="ch">\'</span><span class="st"> Donuts'</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>final_df_clean <span class="op">=</span> final_df.dropna(subset<span class="op">=</span>[<span class="st">'Region'</span>])</span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>plot <span class="op">=</span> (</span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>    ggplot(final_df_clean, aes(x<span class="op">=</span><span class="st">'revenue'</span>, y<span class="op">=</span><span class="st">'num_stores'</span>, color<span class="op">=</span><span class="st">'Brand'</span>)) <span class="op">+</span></span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a>    geom_violin() <span class="op">+</span></span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>    facet_wrap(<span class="st">'~Region'</span>) <span class="op">+</span></span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>    labs(</span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">"Estimated Revenue"</span>,</span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">"Number of Stores"</span>,</span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="st">"Distribution of Number of Stores by Revenue and Region"</span></span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a>    ) <span class="op">+</span></span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a>    theme_light() <span class="op">+</span></span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a>    theme(</span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a>        axis_text_x<span class="op">=</span>element_text(rotation<span class="op">=</span><span class="dv">45</span>, hjust<span class="op">=</span><span class="dv">1</span>),</span>
<span id="cb37-39"><a href="#cb37-39" aria-hidden="true" tabindex="-1"></a>        figure_size<span class="op">=</span>(<span class="dv">20</span>, <span class="dv">8</span>)</span>
<span id="cb37-40"><a href="#cb37-40" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-41"><a href="#cb37-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-42"><a href="#cb37-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-43"><a href="#cb37-43" aria-hidden="true" tabindex="-1"></a>plot</span>
<span id="cb37-44"><a href="#cb37-44" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/usr/local/lib/python3.10/dist-packages/plotnine/layer.py:284: PlotnineWarning: stat_ydensity : Removed 50 rows containing non-finite values.
/usr/local/lib/python3.10/dist-packages/plotnine/positions/position.py:232: PlotnineWarning: position_dodge requires non-overlapping x intervals
/usr/local/lib/python3.10/dist-packages/plotnine/positions/position.py:232: PlotnineWarning: position_dodge requires non-overlapping x intervals</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Lab4Final_files/figure-html/cell-29-output-2.png" width="2000" height="800" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The financial data aligns with my expectations, showing that Starbucks generates higher revenue due to its <strong>broad geographic presence</strong> across multiple regions. Starbucks performs well not only in dense regions like the <strong>South and West</strong> but also in more distributed areas, reflecting a <strong>scalable business model</strong>. In contrast, Dunkin’ Donuts focuses primarily on the <strong>Northeast</strong>, limiting its national revenue potential. The density plots highlight that Dunkin’s <strong>regional concentration</strong> results in fewer stores and lower revenue outside its core markets. Overall, the financial performance of both companies reflects their distinct business strategies—<strong>Starbucks with national expansion</strong> and <strong>Dunkin’ with regional dominance</strong>.</p>
</section>
</section>
<section id="automate" class="level2">
<h2 class="anchored" data-anchor-id="automate">Automate</h2>
<section id="convert-your-code-for-exercises-1-3-above-to-a-function-that-takes-a-single-argument-the-url.-this-function-should" class="level3">
<h3 class="anchored" data-anchor-id="convert-your-code-for-exercises-1-3-above-to-a-function-that-takes-a-single-argument-the-url.-this-function-should">Convert your code for Exercises 1-3 above to a function that takes a single argument: the URL. This function should</h3>
<ul>
<li><p>Scrape the information on state names and corresponding number of store locations on the webpage specified (assume the page has a table in the same form and placement as the ones you scraped above)</p></li>
<li><p>Extract the name of the company from either the URL specified or the webpage (assume the URL will have the same format as the ones used above)</p></li>
<li><p>Return a clean, organized and tidy dataset. Find a page other than Starbucks and Dunkin’ Donuts to test this on to confirm that it works. It’s fine if this is not related to coffee.</p></li>
</ul>
<div id="cell-47" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> scrape_store_data(url):</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> requests.get(url)</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>    soup <span class="op">=</span> BeautifulSoup(response.content, <span class="st">"html.parser"</span>)</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    table <span class="op">=</span> soup.find(<span class="st">"table"</span>, attrs<span class="op">=</span>{<span class="st">"class"</span>: <span class="st">"wpr-table"</span>})</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> table <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Table not found"</span>)</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>    company_name <span class="op">=</span> url.split(<span class="st">'/'</span>)[<span class="op">-</span><span class="dv">1</span>].replace(<span class="st">'-by-state'</span>, <span class="st">''</span>).replace(<span class="st">'-'</span>, <span class="st">' '</span>).title()</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>    rows <span class="op">=</span> []</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> row <span class="kw">in</span> table.find_all(<span class="st">"tr"</span>)[<span class="dv">1</span>:]:</span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>        cells <span class="op">=</span> row.find_all(<span class="st">"td"</span>)</span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(cells) <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a>            state <span class="op">=</span> row.find(<span class="st">'th'</span>).get_text(strip<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>            locations <span class="op">=</span> [cell.get_text(strip<span class="op">=</span><span class="va">True</span>).replace(<span class="st">','</span>, <span class="st">''</span>) <span class="cf">for</span> cell <span class="kw">in</span> cells]</span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> i, loc <span class="kw">in</span> <span class="bu">enumerate</span>(locations):</span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a>                <span class="cf">try</span>:</span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a>                    year <span class="op">=</span> <span class="bu">str</span>(<span class="dv">2024</span> <span class="op">-</span> i)</span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a>                    store_count <span class="op">=</span> <span class="bu">int</span>(loc)</span>
<span id="cb39-28"><a href="#cb39-28" aria-hidden="true" tabindex="-1"></a>                <span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb39-29"><a href="#cb39-29" aria-hidden="true" tabindex="-1"></a>                    store_count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb39-30"><a href="#cb39-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-31"><a href="#cb39-31" aria-hidden="true" tabindex="-1"></a>                rows.append({</span>
<span id="cb39-32"><a href="#cb39-32" aria-hidden="true" tabindex="-1"></a>                    <span class="st">'State'</span>: state,</span>
<span id="cb39-33"><a href="#cb39-33" aria-hidden="true" tabindex="-1"></a>                    <span class="st">'Year'</span>: year,</span>
<span id="cb39-34"><a href="#cb39-34" aria-hidden="true" tabindex="-1"></a>                    <span class="ss">f'</span><span class="sc">{</span>company_name<span class="sc">}</span><span class="ss"> Locations'</span>: store_count</span>
<span id="cb39-35"><a href="#cb39-35" aria-hidden="true" tabindex="-1"></a>                })</span>
<span id="cb39-36"><a href="#cb39-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-37"><a href="#cb39-37" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> pd.DataFrame(rows)</span>
<span id="cb39-38"><a href="#cb39-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-39"><a href="#cb39-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df</span>
<span id="cb39-40"><a href="#cb39-40" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-48" class="cell" data-outputid="0e8fcd0b-40e4-4435-b7a8-d9b5ec56f38a" data-execution_count="30">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>aldi_data <span class="op">=</span> scrape_store_data(<span class="st">"https://worldpopulationreview.com/state-rankings/aldi-by-state"</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>aldi_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">

  <div id="df-4d001d50-202d-41db-83d9-4fd6bdae0aa1" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Aldi Locations</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Florida</td>
<td>2024</td>
<td>218</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Florida</td>
<td>2023</td>
<td>206</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Illinois</td>
<td>2024</td>
<td>216</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Illinois</td>
<td>2023</td>
<td>211</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Ohio</td>
<td>2024</td>
<td>164</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">99</td>
<td>Washington</td>
<td>2023</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">100</td>
<td>Wyoming</td>
<td>2024</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">101</td>
<td>Wyoming</td>
<td>2023</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">102</td>
<td>United States</td>
<td>2024</td>
<td>2392</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">103</td>
<td>United States</td>
<td>2023</td>
<td>2289</td>
</tr>
</tbody>
</table>

<p>104 rows × 3 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-4d001d50-202d-41db-83d9-4fd6bdae0aa1')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-4d001d50-202d-41db-83d9-4fd6bdae0aa1 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-4d001d50-202d-41db-83d9-4fd6bdae0aa1');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-f4d9abd6-00c0-4c35-a32a-e66e2fc937c8">
  <button class="colab-df-quickchart" onclick="quickchart('df-f4d9abd6-00c0-4c35-a32a-e66e2fc937c8')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-f4d9abd6-00c0-4c35-a32a-e66e2fc937c8 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_4094f39a-1089-40ca-be36-b3f90543815f">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('aldi_data')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_4094f39a-1089-40ca-be36-b3f90543815f button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('aldi_data');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<div id="cell-49" class="cell" data-outputid="4652cd47-6774-4d40-a3fc-194a411181ae" data-execution_count="31">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>starbucks_url <span class="op">=</span> <span class="st">"https://worldpopulationreview.com/state-rankings/starbucks-stores-by-state"</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>starbucks_data <span class="op">=</span> scrape_store_data(starbucks_url)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>starbucks_data.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">

  <div id="df-39f7fcd5-d2de-402c-b9a2-ff6157e1e4b6" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Starbucks Stores Locations</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>California</td>
<td>2024</td>
<td>3080</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>California</td>
<td>2023</td>
<td>2959</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>California</td>
<td>2022</td>
<td>3117</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Texas</td>
<td>2024</td>
<td>1346</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Texas</td>
<td>2023</td>
<td>1215</td>
</tr>
</tbody>
</table>

</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-39f7fcd5-d2de-402c-b9a2-ff6157e1e4b6')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-39f7fcd5-d2de-402c-b9a2-ff6157e1e4b6 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-39f7fcd5-d2de-402c-b9a2-ff6157e1e4b6');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-be9f9f1c-f507-4f91-a223-eeecf3020cf8">
  <button class="colab-df-quickchart" onclick="quickchart('df-be9f9f1c-f507-4f91-a223-eeecf3020cf8')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-be9f9f1c-f507-4f91-a223-eeecf3020cf8 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div>
</div>
<p>Sources:</p>
<p><a href="https://worldpopulationreview.com/state-rankings/starbucks-stores-by-state://">https://worldpopulationreview.com/state-rankings/starbucks-stores-by-state://</a></p>
<p><a href="https://worldpopulationreview.com/state-rankings/aldi-by-state">https://worldpopulationreview.com/state-rankings/aldi-by-state</a></p>
<p><a href="https://stockanalysis.com/stocks/sbux/revenue/">https://stockanalysis.com/stocks/sbux/revenue/</a></p>
<p><a href="https://stories.starbucks.com/press/2024/starbucks-reports-preliminary-q4-and-full-fiscal-year-2024-results/">https://stories.starbucks.com/press/2024/starbucks-reports-preliminary-q4-and-full-fiscal-year-2024-results/</a></p>
<p><a href="https://www.zippia.com/dunkin-donuts-careers-554008/revenue/">https://www.zippia.com/dunkin-donuts-careers-554008/revenue/</a></p>
<p><a href="https://companiesmarketcap.com/dunkin-brands/revenue/">https://companiesmarketcap.com/dunkin-brands/revenue/</a></p>
<p><a href="https://stackoverflow.com/questions/68922339/how-to-solve-dataframe-to-numeric-error-python">https://stackoverflow.com/questions/68922339/how-to-solve-dataframe-to-numeric-error-python</a></p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>